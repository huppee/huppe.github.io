<!DOCTYPE html><html lang="zh-CN" data-theme="light"><head><meta charset="UTF-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1.0,viewport-fit=cover"><title>ç¨‹åºè®¾è®¡å°ä½œä¸š | huppe's Blog</title><meta name="author" content="huppe"><meta name="copyright" content="huppe"><meta name="format-detection" content="telephone=no"><meta name="theme-color" content="#ffffff"><meta name="description" content="MyElderlyAppï¼šä¸€æ¬¾é¢å‘ä¸­è€å¹´ç”¨æˆ·çš„ç»¼åˆæ€§ Android åº”ç”¨ æ‘˜è¦æœ¬æ–‡ä»‹ç»äº†ä¸€ä¸ªåä¸º MyElderlyApp çš„ Android åº”ç”¨ï¼Œé¢å‘ä¸­è€å¹´ç”¨æˆ·ï¼Œé›†æˆäº†å¥åº·ç®¡ç†ã€å¿«æ·å‡ºè¡Œã€æ–‡è‰ºç¤¾åŒºåŠå¤šæ¬¾ä¼‘é—²å°æ¸¸æˆï¼ˆäº”å­æ£‹ã€ä¸­å›½è±¡æ£‹ã€å›´æ£‹ã€éº»å°†ï¼‰ã€‚æ–‡ç« ä»é¡¹ç›®å®šä½ã€æŠ€æœ¯é€‰å‹ã€æ ¸å¿ƒåŠŸèƒ½ã€å®ç°å…³é”®ç‚¹ç­‰æ–¹é¢è¿›è¡Œè¯¦å°½é˜è¿°ï¼Œå¹¶é™„ä¸Šå®Œæ•´çš„ Kotlin æºç ä¾›è¯»è€…å‚è€ƒã€‚   ç›®å½• é¡¹ç›®èƒŒæ™¯ä¸å®šä½  æŠ€æœ¯æ ˆä¸">
<meta property="og:type" content="article">
<meta property="og:title" content="ç¨‹åºè®¾è®¡å°ä½œä¸š">
<meta property="og:url" content="https://huppee.github.io/huppe.github.io/2025/06/03/%E7%A8%8B%E5%BA%8F%E8%AE%BE%E8%AE%A1%E5%B0%8F%E4%BD%9C%E4%B8%9A/">
<meta property="og:site_name" content="huppe&#39;s Blog">
<meta property="og:description" content="MyElderlyAppï¼šä¸€æ¬¾é¢å‘ä¸­è€å¹´ç”¨æˆ·çš„ç»¼åˆæ€§ Android åº”ç”¨ æ‘˜è¦æœ¬æ–‡ä»‹ç»äº†ä¸€ä¸ªåä¸º MyElderlyApp çš„ Android åº”ç”¨ï¼Œé¢å‘ä¸­è€å¹´ç”¨æˆ·ï¼Œé›†æˆäº†å¥åº·ç®¡ç†ã€å¿«æ·å‡ºè¡Œã€æ–‡è‰ºç¤¾åŒºåŠå¤šæ¬¾ä¼‘é—²å°æ¸¸æˆï¼ˆäº”å­æ£‹ã€ä¸­å›½è±¡æ£‹ã€å›´æ£‹ã€éº»å°†ï¼‰ã€‚æ–‡ç« ä»é¡¹ç›®å®šä½ã€æŠ€æœ¯é€‰å‹ã€æ ¸å¿ƒåŠŸèƒ½ã€å®ç°å…³é”®ç‚¹ç­‰æ–¹é¢è¿›è¡Œè¯¦å°½é˜è¿°ï¼Œå¹¶é™„ä¸Šå®Œæ•´çš„ Kotlin æºç ä¾›è¯»è€…å‚è€ƒã€‚   ç›®å½• é¡¹ç›®èƒŒæ™¯ä¸å®šä½  æŠ€æœ¯æ ˆä¸">
<meta property="og:locale" content="zh_CN">
<meta property="og:image" content="https://huppee.github.io/huppe.github.io/img/butterfly-icon.png">
<meta property="article:published_time" content="2025-06-03T10:00:00.000Z">
<meta property="article:modified_time" content="2025-06-03T11:13:20.324Z">
<meta property="article:author" content="huppe">
<meta property="article:tag" content="è½¯ä»¶å¼€å‘">
<meta name="twitter:card" content="summary">
<meta name="twitter:image" content="https://huppee.github.io/huppe.github.io/img/butterfly-icon.png"><script type="application/ld+json">{
  "@context": "https://schema.org",
  "@type": "BlogPosting",
  "headline": "ç¨‹åºè®¾è®¡å°ä½œä¸š",
  "url": "https://huppee.github.io/huppe.github.io/2025/06/03/%E7%A8%8B%E5%BA%8F%E8%AE%BE%E8%AE%A1%E5%B0%8F%E4%BD%9C%E4%B8%9A/",
  "image": "https://huppee.github.io/huppe.github.io/img/butterfly-icon.png",
  "datePublished": "2025-06-03T10:00:00.000Z",
  "dateModified": "2025-06-03T11:13:20.324Z",
  "author": [
    {
      "@type": "Person",
      "name": "huppe",
      "url": "https://huppee.github.io/huppe.github.io/"
    }
  ]
}</script><link rel="shortcut icon" href="/huppe.github.io/img/favicon.png"><link rel="canonical" href="https://huppee.github.io/huppe.github.io/2025/06/03/%E7%A8%8B%E5%BA%8F%E8%AE%BE%E8%AE%A1%E5%B0%8F%E4%BD%9C%E4%B8%9A/"><link rel="preconnect" href="//cdn.jsdelivr.net"/><link rel="preconnect" href="//busuanzi.ibruce.info"/><link rel="stylesheet" href="/huppe.github.io/css/index.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free/css/all.min.css"><!-- æ·»åŠ  Live2D çœ‹æ¿å¨˜ CSS--><link rel="stylesheet" href="/huppe.github.io/live2d-widget/waifu.css"><script>
    (() => {
      
    const saveToLocal = {
      set: (key, value, ttl) => {
        if (!ttl) return
        const expiry = Date.now() + ttl * 86400000
        localStorage.setItem(key, JSON.stringify({ value, expiry }))
      },
      get: key => {
        const itemStr = localStorage.getItem(key)
        if (!itemStr) return undefined
        const { value, expiry } = JSON.parse(itemStr)
        if (Date.now() > expiry) {
          localStorage.removeItem(key)
          return undefined
        }
        return value
      }
    }

    window.btf = {
      saveToLocal,
      getScript: (url, attr = {}) => new Promise((resolve, reject) => {
        const script = document.createElement('script')
        script.src = url
        script.async = true
        Object.entries(attr).forEach(([key, val]) => script.setAttribute(key, val))
        script.onload = script.onreadystatechange = () => {
          if (!script.readyState || /loaded|complete/.test(script.readyState)) resolve()
        }
        script.onerror = reject
        document.head.appendChild(script)
      }),
      getCSS: (url, id) => new Promise((resolve, reject) => {
        const link = document.createElement('link')
        link.rel = 'stylesheet'
        link.href = url
        if (id) link.id = id
        link.onload = link.onreadystatechange = () => {
          if (!link.readyState || /loaded|complete/.test(link.readyState)) resolve()
        }
        link.onerror = reject
        document.head.appendChild(link)
      }),
      addGlobalFn: (key, fn, name = false, parent = window) => {
        if (!false && key.startsWith('pjax')) return
        const globalFn = parent.globalFn || {}
        globalFn[key] = globalFn[key] || {}
        globalFn[key][name || Object.keys(globalFn[key]).length] = fn
        parent.globalFn = globalFn
      }
    }
  
      
      const activateDarkMode = () => {
        document.documentElement.setAttribute('data-theme', 'dark')
        if (document.querySelector('meta[name="theme-color"]') !== null) {
          document.querySelector('meta[name="theme-color"]').setAttribute('content', '#0d0d0d')
        }
      }
      const activateLightMode = () => {
        document.documentElement.setAttribute('data-theme', 'light')
        if (document.querySelector('meta[name="theme-color"]') !== null) {
          document.querySelector('meta[name="theme-color"]').setAttribute('content', '#ffffff')
        }
      }

      btf.activateDarkMode = activateDarkMode
      btf.activateLightMode = activateLightMode

      const theme = saveToLocal.get('theme')
    
          theme === 'dark' ? activateDarkMode() : theme === 'light' ? activateLightMode() : null
        
      
      const asideStatus = saveToLocal.get('aside-status')
      if (asideStatus !== undefined) {
        document.documentElement.classList.toggle('hide-aside', asideStatus === 'hide')
      }
    
      
    const detectApple = () => {
      if (/iPad|iPhone|iPod|Macintosh/.test(navigator.userAgent)) {
        document.documentElement.classList.add('apple')
      }
    }
    detectApple()
  
    })()
  </script><script>const GLOBAL_CONFIG = {
  root: '/huppe.github.io/',
  algolia: undefined,
  localSearch: undefined,
  translate: undefined,
  highlight: {"plugin":"highlight.js","highlightCopy":true,"highlightLang":true,"highlightHeightLimit":false,"highlightFullpage":false,"highlightMacStyle":false},
  copy: {
    success: 'å¤åˆ¶æˆåŠŸ',
    error: 'å¤åˆ¶å¤±è´¥',
    noSupport: 'æµè§ˆå™¨ä¸æ”¯æŒ'
  },
  relativeDate: {
    homepage: false,
    post: false
  },
  runtime: '',
  dateSuffix: {
    just: 'åˆšåˆš',
    min: 'åˆ†é’Ÿå‰',
    hour: 'å°æ—¶å‰',
    day: 'å¤©å‰',
    month: 'ä¸ªæœˆå‰'
  },
  copyright: undefined,
  lightbox: 'null',
  Snackbar: undefined,
  infinitegrid: {
    js: 'https://cdn.jsdelivr.net/npm/@egjs/infinitegrid/dist/infinitegrid.min.js',
    buttonText: 'åŠ è½½æ›´å¤š'
  },
  isPhotoFigcaption: false,
  islazyload: false,
  isAnchor: false,
  percent: {
    toc: true,
    rightside: false,
  },
  autoDarkmode: false
}</script><script id="config-diff">var GLOBAL_CONFIG_SITE = {
  title: 'ç¨‹åºè®¾è®¡å°ä½œä¸š',
  isPost: true,
  isHome: false,
  isHighlightShrink: false,
  isToc: true,
  isShuoshuo: false
}</script><meta name="generator" content="Hexo 7.3.0"><link rel="alternate" href="/huppe.github.io/feed.xml" title="huppe's Blog" type="application/rss+xml">
</head><body><div id="particles-js"></div><div class="post" id="body-wrap"><header class="post-bg" id="page-header"><nav id="nav"><span id="blog-info"><a class="nav-site-title" href="/huppe.github.io/"><span class="site-name">huppe's Blog</span></a><a class="nav-page-title" href="/huppe.github.io/"><span class="site-name">ç¨‹åºè®¾è®¡å°ä½œä¸š</span></a></span><div id="menus"></div></nav><div id="post-info"><h1 class="post-title">ç¨‹åºè®¾è®¡å°ä½œä¸š</h1><div id="post-meta"><div class="meta-firstline"><span class="post-meta-date"><i class="far fa-calendar-alt fa-fw post-meta-icon"></i><span class="post-meta-label">å‘è¡¨äº</span><time class="post-meta-date-created" datetime="2025-06-03T10:00:00.000Z" title="å‘è¡¨äº 2025-06-03 18:00:00">2025-06-03</time><span class="post-meta-separator">|</span><i class="fas fa-history fa-fw post-meta-icon"></i><span class="post-meta-label">æ›´æ–°äº</span><time class="post-meta-date-updated" datetime="2025-06-03T11:13:20.324Z" title="æ›´æ–°äº 2025-06-03 19:13:20">2025-06-03</time></span><span class="post-meta-categories"><span class="post-meta-separator">|</span><i class="fas fa-inbox fa-fw post-meta-icon"></i><a class="post-meta-categories" href="/huppe.github.io/categories/%E8%BD%AF%E4%BB%B6%E5%BC%80%E5%8F%91/">è½¯ä»¶å¼€å‘</a></span></div><div class="meta-secondline"><span class="post-meta-separator">|</span><span class="post-meta-pv-cv" id="" data-flag-title=""><i class="far fa-eye fa-fw post-meta-icon"></i><span class="post-meta-label">æµè§ˆé‡:</span><span id="busuanzi_value_page_pv"><i class="fa-solid fa-spinner fa-spin"></i></span></span></div></div></div></header><main class="layout" id="content-inner"><div id="post"><article class="container post-content" id="article-container"><h1 id="MyElderlyAppï¼šä¸€æ¬¾é¢å‘ä¸­è€å¹´ç”¨æˆ·çš„ç»¼åˆæ€§-Android-åº”ç”¨"><a href="#MyElderlyAppï¼šä¸€æ¬¾é¢å‘ä¸­è€å¹´ç”¨æˆ·çš„ç»¼åˆæ€§-Android-åº”ç”¨" class="headerlink" title="MyElderlyAppï¼šä¸€æ¬¾é¢å‘ä¸­è€å¹´ç”¨æˆ·çš„ç»¼åˆæ€§ Android åº”ç”¨"></a>MyElderlyAppï¼šä¸€æ¬¾é¢å‘ä¸­è€å¹´ç”¨æˆ·çš„ç»¼åˆæ€§ Android åº”ç”¨</h1><blockquote>
<p><strong>æ‘˜è¦</strong><br>æœ¬æ–‡ä»‹ç»äº†ä¸€ä¸ªåä¸º <strong>MyElderlyApp</strong> çš„ Android åº”ç”¨ï¼Œé¢å‘ä¸­è€å¹´ç”¨æˆ·ï¼Œé›†æˆäº†å¥åº·ç®¡ç†ã€å¿«æ·å‡ºè¡Œã€æ–‡è‰ºç¤¾åŒºåŠå¤šæ¬¾ä¼‘é—²å°æ¸¸æˆï¼ˆäº”å­æ£‹ã€ä¸­å›½è±¡æ£‹ã€å›´æ£‹ã€éº»å°†ï¼‰ã€‚æ–‡ç« ä»é¡¹ç›®å®šä½ã€æŠ€æœ¯é€‰å‹ã€æ ¸å¿ƒåŠŸèƒ½ã€å®ç°å…³é”®ç‚¹ç­‰æ–¹é¢è¿›è¡Œè¯¦å°½é˜è¿°ï¼Œå¹¶é™„ä¸Šå®Œæ•´çš„ Kotlin æºç ä¾›è¯»è€…å‚è€ƒã€‚</p>
</blockquote>
<hr>
<h2 id="ç›®å½•"><a href="#ç›®å½•" class="headerlink" title="ç›®å½•"></a>ç›®å½•</h2><ol>
<li><p><a href="#%E9%A1%B9%E7%9B%AE%E8%83%8C%E6%99%AF%E4%B8%8E%E5%AE%9A%E4%BD%8D">é¡¹ç›®èƒŒæ™¯ä¸å®šä½</a></p>
</li>
<li><p><a href="#%E6%8A%80%E6%9C%AF%E6%A0%88%E4%B8%8E%E6%9E%B6%E6%9E%84%E6%A6%82%E8%A7%88">æŠ€æœ¯æ ˆä¸æ¶æ„æ¦‚è§ˆ</a></p>
</li>
<li><p><a href="#%E6%A0%B8%E5%BF%83%E5%8A%9F%E8%83%BD%E6%A8%A1%E5%9D%97%E4%BB%8B%E7%BB%8D">æ ¸å¿ƒåŠŸèƒ½æ¨¡å—ä»‹ç»</a></p>
<ol>
<li><a href="#%E7%99%BB%E5%BD%95%E4%B8%8E%E4%B8%BB%E7%95%8C%E9%9D%A2">ç™»å½•ä¸ä¸»ç•Œé¢</a></li>
<li><a href="#%E5%BF%AB%E6%8D%B7%E5%87%BA%E8%A1%8C-quicktravelscreen">å¿«æ·å‡ºè¡Œ (QuickTravelScreen)</a></li>
<li><a href="#%E5%81%A5%E5%BA%B7%E7%AE%A1%E7%90%86-healthscreen">å¥åº·ç®¡ç† (HealthScreen)</a></li>
<li><a href="#%E6%96%87%E8%89%BA%E7%A4%BE%E5%8C%BA-artcommunityscreen">æ–‡è‰ºç¤¾åŒº (ArtCommunityScreen)</a></li>
<li><a href="#%E4%BA%94%E5%AD%90%E6%A3%8B-gomokuscreen">äº”å­æ£‹ (GomokuScreen)</a></li>
<li><a href="#%E4%B8%AD%E5%9B%BD%E8%B1%A1%E6%A3%8B-chessscreen">ä¸­å›½è±¡æ£‹ (ChessScreen)</a></li>
<li><a href="#%E5%9B%B4%E6%A3%8B-gogamescreen">å›´æ£‹ (GoGameScreen)</a></li>
<li><a href="#%E9%BA%BB%E5%B0%86-mahjongscreen">éº»å°† (MahjongScreen)</a></li>
</ol>
</li>
<li><p><a href="#%E5%AE%9E%E7%8E%B0%E5%85%B3%E9%94%AE%E7%82%B9%E8%A7%A3%E6%9E%90">å®ç°å…³é”®ç‚¹è§£æ</a></p>
</li>
<li><p><a href="#%E9%A1%B9%E7%9B%AE%E6%BA%90%E7%A0%81Markdown-%E6%A0%BC%E5%BC%8F">é¡¹ç›®æºç ï¼ˆMarkdown æ ¼å¼ï¼‰</a></p>
<ol>
<li><a href="#loginscreenkt">LoginScreen.kt</a></li>
<li><a href="#mainactivitykt">MainActivity.kt</a></li>
<li><a href="#quicktravelscreenkt">QuickTravelScreen.kt</a></li>
<li><a href="#healthscreenkt">HealthScreen.kt</a></li>
<li><a href="#artcommunityscreenkt">ArtCommunityScreen.kt</a></li>
<li><a href="#gomokuscreenkt">GomokuScreen.kt</a></li>
<li><a href="#chessscreenkt">ChessScreen.kt</a></li>
<li><a href="#gogamescreenkt">GoGameScreen.kt</a></li>
<li><a href="#mahjongscreenkt">MahjongScreen.kt</a></li>
</ol>
</li>
<li><p><a href="#%E5%8F%AF%E6%94%B9%E8%BF%9B%E4%B8%8E%E6%9C%AA%E6%9D%A5%E5%B1%95%E6%9C%9B">å¯æ”¹è¿›ä¸æœªæ¥å±•æœ›</a></p>
</li>
<li><p><a href="#%E7%BB%93%E8%AF%AD">ç»“è¯­</a></p>
</li>
</ol>
<hr>
<h2 id="é¡¹ç›®èƒŒæ™¯ä¸å®šä½"><a href="#é¡¹ç›®èƒŒæ™¯ä¸å®šä½" class="headerlink" title="é¡¹ç›®èƒŒæ™¯ä¸å®šä½"></a>é¡¹ç›®èƒŒæ™¯ä¸å®šä½</h2><p>éšç€æ™ºèƒ½æ‰‹æœºåœ¨ä¸­è€å¹´äººç¾¤ä¸­çš„æ™®åŠï¼Œå¦‚ä½•è®¾è®¡ä¸€æ¬¾ <strong>ç•Œé¢ç®€æ´ã€æ˜“æ“ä½œ</strong> ä¸”åŠŸèƒ½å®ç”¨çš„ç§»åŠ¨åº”ç”¨æˆä¸ºå¼€å‘è€…å…³æ³¨çš„é‡ç‚¹ã€‚â€œMyElderlyAppâ€ é¡¹ç›®æ­£æ˜¯é’ˆå¯¹è¿™ä¸€éœ€æ±‚è€Œè¯ç”Ÿï¼Œç›®æ ‡æ˜¯æ‰“é€ ä¸€æ¬¾é›†å‡ºè¡Œã€å¥åº·å’Œå¨±ä¹äºä¸€ä½“çš„â€œ<strong>ä¸€ç«™å¼</strong>â€ Android åº”ç”¨ï¼Œå…·ä½“å®šä½å¦‚ä¸‹ï¼š</p>
<ul>
<li><p><strong>ç›®æ ‡ç”¨æˆ·</strong>ï¼šä¸­è€å¹´ç”¨æˆ·ï¼Œä»–ä»¬å¯¹åº”ç”¨çš„æ˜“ç”¨æ€§ã€å­—ä½“å¤§å°ã€è‰²å½©å¯¹æ¯”æœ‰è¾ƒé«˜è¦æ±‚ï¼ŒåŒæ—¶æ›´æ³¨é‡å¥åº·ç®¡ç†ã€ä¾¿æ·æœåŠ¡ä»¥åŠä¼‘é—²å¨±ä¹ã€‚</p>
</li>
<li><p><strong>æ ¸å¿ƒç›®æ ‡</strong>ï¼š</p>
<ol>
<li><strong>å¿«æ·å‡ºè¡Œ</strong>ï¼šä¸€é”®æ‰“è½¦æˆ–æŸ¥è¯¢å…¬äº¤ï¼Œæµç¨‹ç®€å•ç›´è§‚ã€‚</li>
<li><strong>å¥åº·ç®¡ç†</strong>ï¼šåŒ…æ‹¬æŒ‚å·ã€å’¨è¯¢ã€ç”¨è¯æé†’ç­‰æ¨¡å—ï¼Œè®©ä¸­è€å¹´ç”¨æˆ·å¿«é€Ÿè·å–åŒ»ç–—&#x2F;å¥åº·æœåŠ¡å…¥å£ã€‚</li>
<li><strong>æ–‡è‰ºç¤¾åŒº</strong>ï¼šæä¾›ä¸€ä¸ªè½»æ¾æ°›å›´çš„ç¤¾åŒºå…¥å£ï¼Œé…åˆ <strong>Lottie åŠ¨æ•ˆ</strong>ï¼Œå¸å¼•ç”¨æˆ·å‚ä¸ã€‚</li>
<li><strong>ä¼‘é—²å°æ¸¸æˆ</strong>ï¼šå†…ç½® <strong>äº”å­æ£‹</strong>ã€<strong>ä¸­å›½è±¡æ£‹</strong>ã€<strong>å›´æ£‹</strong>ã€<strong>éº»å°†</strong> å››æ¬¾ç»å…¸æ£‹ç±»æ¸¸æˆï¼Œæ»¡è¶³ç”¨æˆ·å¨±ä¹éœ€æ±‚ã€‚</li>
</ol>
</li>
</ul>
<hr>
<h2 id="æŠ€æœ¯æ ˆä¸æ¶æ„æ¦‚è§ˆ"><a href="#æŠ€æœ¯æ ˆä¸æ¶æ„æ¦‚è§ˆ" class="headerlink" title="æŠ€æœ¯æ ˆä¸æ¶æ„æ¦‚è§ˆ"></a>æŠ€æœ¯æ ˆä¸æ¶æ„æ¦‚è§ˆ</h2><ul>
<li><p><strong>è¯­è¨€ &amp; æ¡†æ¶</strong></p>
<ul>
<li>Kotlin + Jetpack Composeï¼ˆMaterial 3ï¼‰</li>
<li>AndroidX Navigation Compose</li>
<li>Lottie for Composeï¼ˆåŠ¨æ•ˆå±•ç¤ºï¼‰</li>
<li>Canvas &amp; è‡ªå®šä¹‰ View</li>
</ul>
</li>
<li><p><strong>è®¤è¯ &amp; å¯¼èˆª</strong></p>
<ul>
<li>ä½¿ç”¨ Firebase Authenticationï¼ˆé‚®ç®±&#x2F;å¯†ç ï¼‰å®ç°ç®€å•çš„ç”¨æˆ·æ³¨å†Œä¸ç™»å½•</li>
<li>é‡‡ç”¨å• Activity + å¤š Composable æ–¹æ¡ˆï¼Œé€šè¿‡ <code>NavHost</code> ç®¡ç†å„ä¸ªç•Œé¢è·¯ç”±</li>
</ul>
</li>
<li><p><strong>æ–‡ä»¶ç»“æ„ï¼ˆæ ¸å¿ƒï¼‰</strong></p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">â”œâ”€â”€ MainActivity.kt          # Application å¯åŠ¨ Activityï¼Œè´Ÿè´£ NavHost æ³¨å†Œ</span><br><span class="line">â”œâ”€â”€ LoginScreen.kt           # ç™»å½• / æ³¨å†Œç•Œé¢</span><br><span class="line">â”œâ”€â”€ MainScreenImproved.kt    # ç™»å½•åä¸»ç•Œé¢ï¼ˆåº•éƒ¨å¯¼èˆª + åŠŸèƒ½å…¥å£ç½‘æ ¼ï¼‰</span><br><span class="line">â”œâ”€â”€ QuickTravelScreen.kt     # å¿«æ·å‡ºè¡Œæ¨¡å—</span><br><span class="line">â”œâ”€â”€ HealthScreen.kt          # å¥åº·ç®¡ç†æ¨¡å—</span><br><span class="line">â”œâ”€â”€ ArtCommunityScreen.kt    # æ–‡è‰ºç¤¾åŒºé¡µé¢ï¼ˆå®«æ ¼ + åŠ¨æ•ˆ + æ¸¸æˆå…¥å£ï¼‰</span><br><span class="line">â”œâ”€â”€ GomokuScreen.kt          # äº”å­æ£‹</span><br><span class="line">â”œâ”€â”€ ChessScreen.kt           # ä¸­å›½è±¡æ£‹</span><br><span class="line">â”œâ”€â”€ GoGameScreen.kt          # å›´æ£‹</span><br><span class="line">â””â”€â”€ MahjongScreen.kt         # éº»å°†</span><br></pre></td></tr></table></figure>
</li>
<li><p><strong>ä¸»é¢˜ &amp; é…è‰²</strong></p>
<ul>
<li>ä½¿ç”¨ Material 3 é»˜è®¤ä¸»é¢˜ï¼Œä¸»è‰²è°ƒä»¥æš–è‰²ç³»ä¸ºä¸»ï¼Œå…¼é¡¾ä¸­è€å¹´ç”¨æˆ·è§†è§‰ä¹ æƒ¯</li>
<li>æ–‡è‰ºç¤¾åŒºæ¨¡å—ä½¿ç”¨ä¸­å›½é£é…è‰²ï¼šç±³è‰²èƒŒæ™¯ + å¤§çº¢ä¸ºä¸»è‰²ï¼Œé…ä»¥é‡‘é»„è‰²ç¥¥äº‘åŠ¨æ•ˆ</li>
</ul>
</li>
</ul>
<hr>
<h2 id="æ ¸å¿ƒåŠŸèƒ½æ¨¡å—ä»‹ç»"><a href="#æ ¸å¿ƒåŠŸèƒ½æ¨¡å—ä»‹ç»" class="headerlink" title="æ ¸å¿ƒåŠŸèƒ½æ¨¡å—ä»‹ç»"></a>æ ¸å¿ƒåŠŸèƒ½æ¨¡å—ä»‹ç»</h2><h3 id="ç™»å½•ä¸ä¸»ç•Œé¢"><a href="#ç™»å½•ä¸ä¸»ç•Œé¢" class="headerlink" title="ç™»å½•ä¸ä¸»ç•Œé¢"></a>ç™»å½•ä¸ä¸»ç•Œé¢</h3><ul>
<li><p><strong>ç™»å½•ç•Œé¢ï¼ˆLoginScreen.ktï¼‰</strong></p>
<ul>
<li>æ”¯æŒæ³¨å†Œ &#x2F; ç™»å½•åˆ‡æ¢</li>
<li>é‚®ç®±æ ¼å¼æ ¡éªŒã€å¯†ç é•¿åº¦é™åˆ¶</li>
<li>ç™»å½•æˆåŠŸåï¼Œé€šè¿‡ <code>navController.navigate(&quot;main&quot;) &#123; popUpTo(&quot;login&quot;) inclusive=true &#125;</code> ä¿è¯ç™»å½•é¡µä»è¿”å›æ ˆä¸­å¼¹å‡º</li>
<li>è‹¥ç½‘ç»œçŠ¶å†µå·®ï¼Œåˆ™æ˜¾ç¤ºæç¤º</li>
</ul>
</li>
<li><p><strong>ä¸»ç•Œé¢ï¼ˆMainScreenImproved.ktï¼‰</strong></p>
<ul>
<li>é¡¶éƒ¨æ¸å˜æ¨ªå¹… + åº•éƒ¨å››ä¸ªé¡µç­¾ï¼šå¿«æ·å‡ºè¡Œã€å¥åº·ç®¡ç†ã€æ–‡è‰ºç¤¾åŒºã€ä¸ªäººä¸­å¿ƒï¼ˆå¯æ ¹æ®éœ€æ±‚æ‰©å±•ï¼‰</li>
<li>æ–‡è‰ºç¤¾åŒºé¡µç­¾ä¸‹ä½¿ç”¨ <code>LazyVerticalGrid</code> ä»¥åœ†å½¢å¡ç‰‡å±•ç¤ºå°æ¸¸æˆå…¥å£ï¼šäº”å­æ£‹ã€è±¡æ£‹ã€å›´æ£‹ã€éº»å°†</li>
</ul>
</li>
</ul>
<h3 id="å¿«æ·å‡ºè¡Œ-QuickTravelScreen"><a href="#å¿«æ·å‡ºè¡Œ-QuickTravelScreen" class="headerlink" title="å¿«æ·å‡ºè¡Œ (QuickTravelScreen)"></a>å¿«æ·å‡ºè¡Œ (QuickTravelScreen)</h3><ul>
<li><p><strong>åŠŸèƒ½æè¿°</strong></p>
<ul>
<li>æä¾› <strong>æ»´æ»´æ‰“è½¦</strong> å’Œ <strong>å…¬äº¤æŸ¥è¯¢</strong> æŒ‰é’®ã€‚</li>
<li>ç‚¹å‡»â€œæ‰“è½¦â€æŒ‰é’®ï¼Œé€šè¿‡ Android åŸç”Ÿ Intent è°ƒç”¨ URI Scheme <code>didi://</code>ï¼›è‹¥æ£€æµ‹åˆ°ç”¨æˆ·æœªå®‰è£…æ»´æ»´ï¼Œåˆ™è·³è½¬åˆ°åº”ç”¨å•†åº—ã€‚</li>
<li>ç‚¹å‡»â€œå…¬äº¤æŸ¥è¯¢â€æŒ‰é’®ï¼Œç›´æ¥è·³è½¬åˆ°æŒ‡å®šçš„å…¬äº¤æŸ¥è¯¢ç½‘é¡µã€‚</li>
<li>ç•Œé¢æ‰€æœ‰æŒ‰é’®æ–‡å­—è¾ƒå¤§ï¼Œé…è‰²ç®€æ´ï¼Œé€‚åˆä¸­è€å¹´äººè§†åŠ›ä¹ æƒ¯ã€‚</li>
</ul>
</li>
</ul>
<h3 id="å¥åº·ç®¡ç†-HealthScreen"><a href="#å¥åº·ç®¡ç†-HealthScreen" class="headerlink" title="å¥åº·ç®¡ç† (HealthScreen)"></a>å¥åº·ç®¡ç† (HealthScreen)</h3><ul>
<li><p><strong>åŠŸèƒ½æè¿°</strong></p>
<ul>
<li>ä¸‰ä¸ªå¤§æŒ‰é’®ï¼šä¸€é”®æŒ‚å·ã€åœ¨çº¿å’¨è¯¢ã€ç”¨è¯æé†’</li>
<li>æŒ‰é’®å æ»¡æ•´è¡Œå®½åº¦ï¼Œæ–‡å­—å±…ä¸­ï¼ŒèƒŒæ™¯è‰²é‡‡ç”¨æš–è‰²ç³»ã€‚</li>
<li>ç›®å‰ä¸ºå ä½è·³è½¬ï¼ˆ<code>navController.navigate(&quot;...&quot;)</code>ï¼‰ï¼Œåç»­å¯æ¥çœŸå®åç«¯æ¥å£ï¼ˆå¦‚åŒ»é™¢æŒ‚å· APIã€åœ¨çº¿é—®è¯ŠæœåŠ¡ã€WorkManager å®šæ—¶æé†’ç­‰ï¼‰ã€‚</li>
</ul>
</li>
</ul>
<h3 id="æ–‡è‰ºç¤¾åŒº-ArtCommunityScreen"><a href="#æ–‡è‰ºç¤¾åŒº-ArtCommunityScreen" class="headerlink" title="æ–‡è‰ºç¤¾åŒº (ArtCommunityScreen)"></a>æ–‡è‰ºç¤¾åŒº (ArtCommunityScreen)</h3><ul>
<li><p><strong>åŠŸèƒ½æè¿°</strong></p>
<ul>
<li>ä¸»é¡µé‡‡ç”¨å¡ç‰‡å¼å®«æ ¼å¸ƒå±€ï¼Œæ¯ä¸ªå¡ç‰‡ä»£è¡¨ä¸€ä¸ªä¼‘é—²å°æ¸¸æˆå…¥å£ï¼ˆäº”å­æ£‹ã€è±¡æ£‹ã€å›´æ£‹ã€éº»å°†ï¼‰ã€‚</li>
<li>å¡ç‰‡å†…åµŒ <strong>Lottie åŠ¨æ•ˆ</strong>ï¼Œå¸å¼•ç”¨æˆ·ç‚¹å‡»ã€‚</li>
<li>æ•´ä½“é…è‰²ä»¥ç±³è‰²ä¸ºåº•ã€å¡ç‰‡è¾¹ç¼˜å¤§çº¢æè¾¹ï¼Œç¬¦åˆä¸­å›½ä¼ ç»Ÿå®¡ç¾ï¼Œå¹¶å…¼é¡¾ä¸­è€å¹´äººè§†è§‰èˆ’é€‚åº¦ã€‚</li>
</ul>
</li>
</ul>
<h3 id="äº”å­æ£‹-GomokuScreen"><a href="#äº”å­æ£‹-GomokuScreen" class="headerlink" title="äº”å­æ£‹ (GomokuScreen)"></a>äº”å­æ£‹ (GomokuScreen)</h3><ul>
<li><p><strong>ç•Œé¢ä¸äº¤äº’</strong></p>
<ul>
<li>ä½¿ç”¨ <strong>Compose Canvas</strong> è‡ªç»˜ 15Ã—15 æ£‹ç›˜ã€‚</li>
<li>é€šè¿‡ <code>remember &#123; mutableStateListOf&lt;Point&gt;() &#125;</code> å­˜å‚¨è½å­åæ ‡åˆ—è¡¨ï¼Œæ ¹æ®å½“å‰ç©å®¶ï¼ˆé»‘ &#x2F; ç™½ï¼‰äº¤æ›¿æ¸²æŸ“é»‘ç™½æ£‹å­ã€‚</li>
<li>æ¯æ¬¡ç©å®¶è½å­åï¼Œè°ƒç”¨èƒœè´Ÿåˆ¤å®šå‡½æ•°åˆ¤æ–­æ˜¯å¦æœ‰äººè·èƒœï¼Œå¹¶åœ¨ Canvas ä¸Šæ–¹æ–‡æ¡ˆæç¤º â€œé»‘æ–¹è·èƒœâ€ &#x2F; â€œç™½æ–¹è·èƒœâ€ã€‚</li>
<li>éšæœºä» 30 å¥æ£‹å±€æ ¼è¨€ä¸­æŒ‘é€‰ä¸€å¥ç½®äºæ£‹ç›˜ä¸Šæ–¹ã€‚</li>
</ul>
</li>
</ul>
<h3 id="ä¸­å›½è±¡æ£‹-ChessScreen"><a href="#ä¸­å›½è±¡æ£‹-ChessScreen" class="headerlink" title="ä¸­å›½è±¡æ£‹ (ChessScreen)"></a>ä¸­å›½è±¡æ£‹ (ChessScreen)</h3><ul>
<li><p><strong>ç•Œé¢ä¸äº¤äº’</strong></p>
<ul>
<li><p>ç”±äºè±¡æ£‹å¯¹è·¯çº¿ã€æ£‹å­å½¢æ€è¦æ±‚æ›´å¤æ‚ï¼Œé‡‡ç”¨ Android åŸç”Ÿ <code>View</code>ï¼ˆCanvasï¼‰åµŒå…¥åˆ° Composeï¼š</p>
<figure class="highlight kotlin"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">AndroidView(</span><br><span class="line">  factory = &#123; context -&gt; ChessBoardView(context) &#125;,</span><br><span class="line">  modifier = Modifier.fillMaxSize()</span><br><span class="line">)</span><br></pre></td></tr></table></figure></li>
<li><p>æ£‹ç›˜ç»˜åˆ¶ï¼š9Ã—10 æ ¼é˜µï¼Œæ¯ä¸ªæ ¼å­ç­‰å®½ï¼Œ<code>drawLine</code> ç”»çº¿ï¼›â€œæ¥šæ²³æ±‰ç•Œâ€æ–‡å­—é€šè¿‡ <code>drawText</code> æ ‡æ³¨ã€‚</p>
</li>
<li><p>æ£‹å­å¸ƒå±€ä¸è§„åˆ™åˆ¤å®šï¼šæ”¯æŒé©¬è„šã€è±¡çœ¼ã€ç‚®æ‰“éš”å­ã€å°†å¸…è§é¢ç­‰è§„åˆ™ï¼Œå®Œæ•´åˆ¤æ–­æ¯ä¸€æ­¥æ˜¯å¦åˆæ³•ã€‚</p>
</li>
<li><p>å³ä¸Šè§’æä¾›â€œé‡ç½®â€æŒ‰é’®ï¼Œæ¸…ç©ºæ£‹å±€ã€é‡ç½®åˆå§‹é˜µå‹ã€‚</p>
</li>
</ul>
</li>
</ul>
<h3 id="å›´æ£‹-GoGameScreen"><a href="#å›´æ£‹-GoGameScreen" class="headerlink" title="å›´æ£‹ (GoGameScreen)"></a>å›´æ£‹ (GoGameScreen)</h3><ul>
<li><p><strong>ç•Œé¢ä¸äº¤äº’</strong></p>
<ul>
<li>åŒæ ·ä½¿ç”¨ Compose <code>Canvas</code> è‡ªç»˜ 19Ã—19 æ ¼çº¿ã€‚</li>
<li>é€šè¿‡ <code>mutableStateListOf&lt;Point&gt;()</code> è®°å½•é»‘ç™½æ£‹å­åœ¨ç½‘æ ¼äº¤å‰ç‚¹çš„ä½ç½®ã€‚</li>
<li>æä¾›â€œæ‚”æ£‹â€åŠŸèƒ½ï¼šç»´æŠ¤ <code>moveHistory</code>ï¼Œæ¯æ¬¡æ‚”æ£‹ä»åˆ—è¡¨æœ«å°¾ç§»é™¤ä¸€å­ï¼Œå¹¶è§¦å‘ UI é‡ç»˜ã€‚</li>
<li>ç®€å• Ko åŠ«åˆ¤å®šï¼šå¯¹ä¸Šä¸€æ¬¡åƒå­ä¸å½“å‰è½å­ä½ç½®è¿›è¡Œå¯¹æ¯”ï¼Œç¦æ­¢åŒä¸€å½¢çŠ¶é‡å¤å¾ªç¯ã€‚</li>
<li>æä¾›â€œæå­â€é€»è¾‘ï¼šå½“ä¸€æ–¹å›´æ­»å¯¹æ–¹æ— æ°”æ—¶ï¼Œç§»é™¤å¯¹åº”æ£‹å­ã€‚</li>
</ul>
</li>
</ul>
<h3 id="éº»å°†-MahjongScreen"><a href="#éº»å°†-MahjongScreen" class="headerlink" title="éº»å°† (MahjongScreen)"></a>éº»å°† (MahjongScreen)</h3><ul>
<li><p><strong>ç•Œé¢ä¸äº¤äº’</strong></p>
<ul>
<li><p>é™åˆ¶ä¸º 4 äººç®€åŒ–ç‰ˆéº»å°†ï¼Œå¼ºåˆ¶æ¨ªå±ï¼šé€šè¿‡ Compose çš„ <code>DisposableEffect</code> ä¸ <code>LocalView</code> å¼ºåˆ¶å°† Activity è®¾ç½®ä¸º <code>SCREEN_ORIENTATION_LANDSCAPE</code>ã€‚</p>
</li>
<li><p>ç‰Œé¢ä½¿ç”¨ Emoji å­—ç¬¦ä¸²æ¸²æŸ“ï¼Œä¾‹å¦‚ â€œğŸ€â€ ä»£è¡¨æŸå¼ ç‰Œã€‚</p>
</li>
<li><p>å¸ƒå±€ï¼š</p>
<ul>
<li>ç©å®¶æ‰‹ç‰Œåœ¨æœ€ä¸‹æ–¹ï¼Œæ¨ªæ’å±•ç¤ºã€‚</li>
<li>å·¦å³ä¸¤å®¶æ‰‹ç‰Œç«–æ’å±•ç¤ºï¼Œç‰ŒèƒŒæœç”¨æˆ·ã€‚</li>
<li>ä¸Šå®¶æ‰‹ç‰Œæ¨ªæ’å€’ç½®å±•ç¤ºã€‚</li>
<li>ä¸­å¤®åŒºåŸŸä¸ºå½“å‰å‡ºç‰ŒåŒºä¸æ“ä½œæŒ‰é’®ï¼ŒåŒ…æ‹¬â€œç¢°â€â€œæ â€â€œèƒ¡â€ç­‰æ“ä½œï¼ˆä»…æ¨¡æ‹Ÿå±•ç¤ºï¼Œæœªæ¥å…¥å®Œæ•´èƒ¡ç‰Œç®—æ³•ï¼‰ã€‚</li>
</ul>
</li>
<li><p>UI ä¿æŒç´§å‡‘ï¼šæ‰‹ç‰Œå¤§å°ã€ä½ç½®ç»è¿‡å¤šæ¬¡è°ƒè¯•ï¼Œä¿è¯ä¸éœ€è¦æ»‘åŠ¨å³å¯å®Œæ•´å±•ç¤ºæ‰€æœ‰ç‰Œã€‚</p>
</li>
</ul>
</li>
</ul>
<hr>
<h2 id="å®ç°å…³é”®ç‚¹è§£æ"><a href="#å®ç°å…³é”®ç‚¹è§£æ" class="headerlink" title="å®ç°å…³é”®ç‚¹è§£æ"></a>å®ç°å…³é”®ç‚¹è§£æ</h2><ol>
<li><p><strong>å• Activity + Compose å¤šè·¯ç”±</strong></p>
<ul>
<li><p>åœ¨ <code>MainActivity.kt</code> ä¸­åˆ›å»º <code>NavHost</code>ï¼š</p>
<figure class="highlight kotlin"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">setContent &#123;</span><br><span class="line">  MyElderlyTheme &#123;</span><br><span class="line">    NavHost(</span><br><span class="line">      navController = navController,</span><br><span class="line">      startDestination = <span class="string">&quot;login&quot;</span></span><br><span class="line">    ) &#123;</span><br><span class="line">      composable(<span class="string">&quot;login&quot;</span>) &#123; LoginScreen(navController) &#125;</span><br><span class="line">      composable(<span class="string">&quot;main&quot;</span>) &#123; MainScreenImproved(navController) &#125;</span><br><span class="line">      composable(<span class="string">&quot;quick_travel&quot;</span>) &#123; QuickTravelScreen(navController) &#125;</span><br><span class="line">      <span class="comment">// â€¦ å…¶ä»–è·¯ç”± â€¦</span></span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li>
</ul>
</li>
<li><p><strong>çŠ¶æ€ä¿å­˜ä¸ UI é€šä¿¡</strong></p>
<ul>
<li>å¯¹äºæ¸¸æˆæ¨¡å—ï¼Œå¤§é‡ä½¿ç”¨ <code>remember &#123; mutableStateOf(...) &#125;</code>ã€<code>remember &#123; mutableStateListOf(...) &#125;</code> ç­‰æ–¹å¼ç®¡ç†çŠ¶æ€</li>
<li>Compose ä¼šè‡ªåŠ¨æ ¹æ® State å˜åŒ–è§¦å‘é‡ç»„ï¼ˆRecomposeï¼‰ï¼Œæ— éœ€æ‰‹åŠ¨è°ƒç”¨ <code>invalidate()</code></li>
</ul>
</li>
<li><p><strong>Canvas è‡ªç»˜ vs AndroidView åµŒå…¥åŸç”Ÿ View</strong></p>
<ul>
<li><p><strong>äº”å­æ£‹ã€å›´æ£‹</strong> ç›´æ¥ç”¨ Compose Canvasï¼Œä»£ç æ›´ç®€æ´ï¼›ç¤ºä¾‹ï¼š</p>
<figure class="highlight kotlin"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">Canvas(modifier = Modifier.fillMaxSize()) &#123;</span><br><span class="line">  <span class="keyword">val</span> width = size.width / <span class="number">15f</span></span><br><span class="line">  <span class="keyword">for</span> (i <span class="keyword">in</span> <span class="number">0.</span><span class="number">.15</span>) &#123;</span><br><span class="line">    drawLine(color = Color.Black, start = Offset(i * width, <span class="number">0f</span>), end = Offset(i * width, size.height))</span><br><span class="line">    drawLine(color = Color.Black, start = Offset(<span class="number">0f</span>, i * width), end = Offset(size.width, i * width))</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="comment">// æ¸²æŸ“æ£‹å­</span></span><br><span class="line">  stonePositions.forEach &#123; (pt, isBlack) -&gt;</span><br><span class="line">    drawCircle(color = <span class="keyword">if</span> (isBlack) Color.Black <span class="keyword">else</span> Color.White,</span><br><span class="line">               radius = width * <span class="number">0.4f</span>,</span><br><span class="line">               center = Offset(pt.x * width, pt.y * width))</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li>
<li><p><strong>ä¸­å›½è±¡æ£‹</strong> ç”±äºåˆ¤å®šé€»è¾‘æ›´å¤æ‚ï¼Œä¼˜å…ˆè€ƒè™‘æ€§èƒ½ä¸çµæ´»æ€§ï¼Œç”¨è‡ªå®šä¹‰ <code>View</code>ï¼ˆç»§æ‰¿è‡ª <code>View</code> å¹¶é‡å†™ <code>onDraw()</code>ï¼‰ç»˜åˆ¶ã€‚å†é€šè¿‡ <code>AndroidView</code> åµŒå…¥ Composeã€‚</p>
</li>
</ul>
</li>
<li><p><strong>å±å¹•æ–¹å‘å¼ºåˆ¶ä¸èµ„æºç®¡ç†ï¼ˆéº»å°†æ¨¡å—ï¼‰</strong></p>
<ul>
<li><p>åœ¨ <strong>MahjongScreen.kt</strong> ä¸­ï¼š</p>
<figure class="highlight kotlin"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">DisposableEffect(<span class="built_in">Unit</span>) &#123;</span><br><span class="line">  <span class="keyword">val</span> activity = (LocalView.current.context <span class="keyword">as</span> Activity)</span><br><span class="line">  activity.requestedOrientation = ActivityInfo.SCREEN_ORIENTATION_LANDSCAPE</span><br><span class="line">  onDispose &#123; activity.requestedOrientation = ActivityInfo.SCREEN_ORIENTATION_SENSOR &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li>
</ul>
</li>
<li><p><strong>åŠ¨æ•ˆé›†æˆ</strong></p>
<ul>
<li>ä½¿ç”¨ <code>LottieAnimation(composition, iterations = LottieConstants.IterateForever, ...)</code> åŠ è½½ JSON åŠ¨æ•ˆæ–‡ä»¶ï¼ˆå­˜æ”¾åœ¨ <code>assets</code> ç›®å½•ä¸‹ï¼‰ï¼Œç¤ºä¾‹è§ <code>ArtCommunityScreen.kt</code>ã€‚</li>
</ul>
</li>
<li><p><strong>Firebase Auth åˆæ­¥æ¥å…¥ï¼ˆç™»å½•æ¨¡å—ï¼‰</strong></p>
<ul>
<li>åœ¨ <code>LoginScreen.kt</code> å†…éƒ¨ï¼Œé€šè¿‡ <code>Firebase.auth.createUserWithEmailAndPassword(...)</code> æˆ– <code>signInWithEmailAndPassword(...)</code> å®Œæˆæ³¨å†Œ&#x2F;ç™»å½•é€»è¾‘ï¼Œé”™è¯¯æ—¶ç›´æ¥åœ¨ç•Œé¢åº•éƒ¨ä»¥ <code>Toast</code> æç¤ºã€‚</li>
</ul>
</li>
</ol>
<hr>
<h2 id="é¡¹ç›®æºç ï¼ˆMarkdown-æ ¼å¼ï¼‰"><a href="#é¡¹ç›®æºç ï¼ˆMarkdown-æ ¼å¼ï¼‰" class="headerlink" title="é¡¹ç›®æºç ï¼ˆMarkdown æ ¼å¼ï¼‰"></a>é¡¹ç›®æºç ï¼ˆMarkdown æ ¼å¼ï¼‰</h2><p>ä¸‹é¢ç›´æ¥è´´å‡ºæ¯ä¸ª <code>.kt</code> æ–‡ä»¶çš„å®Œæ•´å†…å®¹ï¼Œä¾›æ‚¨åœ¨åšå®¢ä¸­å¼•ç”¨ã€‚æ‰€æœ‰ä»£ç å‡å·²æŒ‰ Kotlin è¯­æ³•é«˜äº®ç”¨ä¸‰é‡åå¼•å·æ ‡æ³¨ã€‚</p>
<hr>
<h3 id="LoginScreen-kt"><a href="#LoginScreen-kt" class="headerlink" title="LoginScreen.kt"></a>LoginScreen.kt</h3><figure class="highlight kotlin"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br><span class="line">147</span><br><span class="line">148</span><br><span class="line">149</span><br><span class="line">150</span><br><span class="line">151</span><br><span class="line">152</span><br><span class="line">153</span><br><span class="line">154</span><br><span class="line">155</span><br><span class="line">156</span><br><span class="line">157</span><br><span class="line">158</span><br><span class="line">159</span><br><span class="line">160</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> com.example.myelderlyapp</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> android.app.Activity</span><br><span class="line"><span class="keyword">import</span> android.content.Context</span><br><span class="line"><span class="keyword">import</span> android.content.res.Configuration</span><br><span class="line"><span class="keyword">import</span> android.util.Patterns</span><br><span class="line"><span class="keyword">import</span> androidx.compose.foundation.Image</span><br><span class="line"><span class="keyword">import</span> androidx.compose.foundation.background</span><br><span class="line"><span class="keyword">import</span> androidx.compose.foundation.clickable</span><br><span class="line"><span class="keyword">import</span> androidx.compose.foundation.layout.*</span><br><span class="line"><span class="keyword">import</span> androidx.compose.foundation.shape.RoundedCornerShape</span><br><span class="line"><span class="keyword">import</span> androidx.compose.material3.*</span><br><span class="line"><span class="keyword">import</span> androidx.compose.runtime.*</span><br><span class="line"><span class="keyword">import</span> androidx.compose.ui.Alignment</span><br><span class="line"><span class="keyword">import</span> androidx.compose.ui.Modifier</span><br><span class="line"><span class="keyword">import</span> androidx.compose.ui.graphics.Brush</span><br><span class="line"><span class="keyword">import</span> androidx.compose.ui.platform.LocalContext</span><br><span class="line"><span class="keyword">import</span> androidx.compose.ui.res.painterResource</span><br><span class="line"><span class="keyword">import</span> androidx.compose.ui.text.font.FontWeight</span><br><span class="line"><span class="keyword">import</span> androidx.compose.ui.text.input.PasswordVisualTransformation</span><br><span class="line"><span class="keyword">import</span> androidx.compose.ui.text.input.VisualTransformation</span><br><span class="line"><span class="keyword">import</span> androidx.compose.ui.unit.dp</span><br><span class="line"><span class="keyword">import</span> androidx.compose.ui.unit.sp</span><br><span class="line"><span class="keyword">import</span> androidx.navigation.NavController</span><br><span class="line"><span class="keyword">import</span> com.google.firebase.auth.FirebaseAuth</span><br><span class="line"><span class="keyword">import</span> com.google.firebase.auth.ktx.auth</span><br><span class="line"><span class="keyword">import</span> com.google.firebase.ktx.Firebase</span><br><span class="line"></span><br><span class="line"><span class="meta">@Composable</span></span><br><span class="line"><span class="function"><span class="keyword">fun</span> <span class="title">LoginScreen</span><span class="params">(navController: <span class="type">NavController</span>)</span></span> &#123;</span><br><span class="line">    <span class="keyword">val</span> auth = Firebase.auth</span><br><span class="line">    <span class="keyword">var</span> email <span class="keyword">by</span> remember &#123; mutableStateOf(<span class="string">&quot;&quot;</span>) &#125;</span><br><span class="line">    <span class="keyword">var</span> password <span class="keyword">by</span> remember &#123; mutableStateOf(<span class="string">&quot;&quot;</span>) &#125;</span><br><span class="line">    <span class="keyword">var</span> isLoginMode <span class="keyword">by</span> remember &#123; mutableStateOf(<span class="literal">true</span>) &#125;</span><br><span class="line">    <span class="keyword">var</span> errorMsg <span class="keyword">by</span> remember &#123; mutableStateOf(<span class="string">&quot;&quot;</span>) &#125;</span><br><span class="line">    <span class="keyword">val</span> context = LocalContext.current</span><br><span class="line"></span><br><span class="line">    <span class="comment">// èƒŒæ™¯æ¸å˜</span></span><br><span class="line">    Box(modifier = Modifier.fillMaxSize()) &#123;</span><br><span class="line">        Canvas(modifier = Modifier.matchParentSize()) &#123;</span><br><span class="line">            drawRect(</span><br><span class="line">                brush = Brush.verticalGradient(</span><br><span class="line">                    colors = listOf(MaterialTheme.colorScheme.primary, MaterialTheme.colorScheme.primaryContainer)</span><br><span class="line">                )</span><br><span class="line">            )</span><br><span class="line">        &#125;</span><br><span class="line">        Column(</span><br><span class="line">            modifier = Modifier</span><br><span class="line">                .fillMaxSize()</span><br><span class="line">                .padding(<span class="number">32.</span>dp),</span><br><span class="line">            horizontalAlignment = Alignment.CenterHorizontally,</span><br><span class="line">            verticalArrangement = Arrangement.Center</span><br><span class="line">        ) &#123;</span><br><span class="line">            <span class="comment">// App Logo</span></span><br><span class="line">            Image(</span><br><span class="line">                painter = painterResource(id = R.drawable.app_logo),</span><br><span class="line">                contentDescription = <span class="string">&quot;App Logo&quot;</span>,</span><br><span class="line">                modifier = Modifier.size(<span class="number">100.</span>dp)</span><br><span class="line">            )</span><br><span class="line"></span><br><span class="line">            Spacer(modifier = Modifier.height(<span class="number">24.</span>dp))</span><br><span class="line"></span><br><span class="line">            <span class="comment">// æ ‡é¢˜</span></span><br><span class="line">            Text(</span><br><span class="line">                text = <span class="keyword">if</span> (isLoginMode) <span class="string">&quot;ç™»å½• MyElderlyApp&quot;</span> <span class="keyword">else</span> <span class="string">&quot;æ³¨å†Œ MyElderlyApp&quot;</span>,</span><br><span class="line">                color = MaterialTheme.colorScheme.onPrimaryContainer,</span><br><span class="line">                fontSize = <span class="number">24.</span>sp,</span><br><span class="line">                fontWeight = FontWeight.Bold</span><br><span class="line">            )</span><br><span class="line"></span><br><span class="line">            Spacer(modifier = Modifier.height(<span class="number">16.</span>dp))</span><br><span class="line"></span><br><span class="line">            <span class="comment">// è¾“å…¥æ¡†ï¼šé‚®ç®±</span></span><br><span class="line">            OutlinedTextField(</span><br><span class="line">                value = email,</span><br><span class="line">                onValueChange = &#123; email = it &#125;,</span><br><span class="line">                label = &#123; Text(<span class="string">&quot;é‚®ç®±&quot;</span>) &#125;,</span><br><span class="line">                singleLine = <span class="literal">true</span>,</span><br><span class="line">                modifier = Modifier.fillMaxWidth()</span><br><span class="line">            )</span><br><span class="line"></span><br><span class="line">            Spacer(modifier = Modifier.height(<span class="number">8.</span>dp))</span><br><span class="line"></span><br><span class="line">            <span class="comment">// è¾“å…¥æ¡†ï¼šå¯†ç </span></span><br><span class="line">            OutlinedTextField(</span><br><span class="line">                value = password,</span><br><span class="line">                onValueChange = &#123; password = it &#125;,</span><br><span class="line">                label = &#123; Text(<span class="string">&quot;å¯†ç ï¼ˆè‡³å°‘6ä½ï¼‰&quot;</span>) &#125;,</span><br><span class="line">                singleLine = <span class="literal">true</span>,</span><br><span class="line">                visualTransformation = PasswordVisualTransformation(),</span><br><span class="line">                modifier = Modifier.fillMaxWidth()</span><br><span class="line">            )</span><br><span class="line"></span><br><span class="line">            <span class="keyword">if</span> (errorMsg.isNotEmpty()) &#123;</span><br><span class="line">                Spacer(modifier = Modifier.height(<span class="number">8.</span>dp))</span><br><span class="line">                Text(text = errorMsg, color = MaterialTheme.colorScheme.error)</span><br><span class="line">            &#125;</span><br><span class="line"></span><br><span class="line">            Spacer(modifier = Modifier.height(<span class="number">16.</span>dp))</span><br><span class="line"></span><br><span class="line">            <span class="comment">// ç™»å½• / æ³¨å†ŒæŒ‰é’®</span></span><br><span class="line">            Button(</span><br><span class="line">                onClick = &#123;</span><br><span class="line">                    <span class="comment">// ç®€å•æ ¡éªŒ</span></span><br><span class="line">                    <span class="keyword">if</span> (!Patterns.EMAIL_ADDRESS.matcher(email).matches()) &#123;</span><br><span class="line">                        errorMsg = <span class="string">&quot;è¯·è¾“å…¥æœ‰æ•ˆçš„é‚®ç®±åœ°å€&quot;</span></span><br><span class="line">                        <span class="keyword">return</span><span class="symbol">@Button</span></span><br><span class="line">                    &#125;</span><br><span class="line">                    <span class="keyword">if</span> (password.length &lt; <span class="number">6</span>) &#123;</span><br><span class="line">                        errorMsg = <span class="string">&quot;å¯†ç é•¿åº¦è‡³å°‘ä¸º6ä½&quot;</span></span><br><span class="line">                        <span class="keyword">return</span><span class="symbol">@Button</span></span><br><span class="line">                    &#125;</span><br><span class="line">                    errorMsg = <span class="string">&quot;&quot;</span></span><br><span class="line"></span><br><span class="line">                    <span class="keyword">if</span> (isLoginMode) &#123;</span><br><span class="line">                        <span class="comment">// ç™»å½•é€»è¾‘</span></span><br><span class="line">                        auth.signInWithEmailAndPassword(email, password)</span><br><span class="line">                            .addOnSuccessListener &#123;</span><br><span class="line">                                navController.navigate(<span class="string">&quot;main&quot;</span>) &#123;</span><br><span class="line">                                    popUpTo(<span class="string">&quot;login&quot;</span>) &#123; inclusive = <span class="literal">true</span> &#125;</span><br><span class="line">                                &#125;</span><br><span class="line">                            &#125;</span><br><span class="line">                            .addOnFailureListener &#123;</span><br><span class="line">                                errorMsg = <span class="string">&quot;ç™»å½•å¤±è´¥ï¼š<span class="subst">$&#123;it.message&#125;</span>&quot;</span></span><br><span class="line">                            &#125;</span><br><span class="line">                    &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">                        <span class="comment">// æ³¨å†Œé€»è¾‘</span></span><br><span class="line">                        auth.createUserWithEmailAndPassword(email, password)</span><br><span class="line">                            .addOnSuccessListener &#123;</span><br><span class="line">                                navController.navigate(<span class="string">&quot;main&quot;</span>) &#123;</span><br><span class="line">                                    popUpTo(<span class="string">&quot;login&quot;</span>) &#123; inclusive = <span class="literal">true</span> &#125;</span><br><span class="line">                                &#125;</span><br><span class="line">                            &#125;</span><br><span class="line">                            .addOnFailureListener &#123;</span><br><span class="line">                                errorMsg = <span class="string">&quot;æ³¨å†Œå¤±è´¥ï¼š<span class="subst">$&#123;it.message&#125;</span>&quot;</span></span><br><span class="line">                            &#125;</span><br><span class="line">                    &#125;</span><br><span class="line">                &#125;,</span><br><span class="line">                modifier = Modifier</span><br><span class="line">                    .fillMaxWidth()</span><br><span class="line">                    .height(<span class="number">48.</span>dp),</span><br><span class="line">                shape = RoundedCornerShape(<span class="number">24.</span>dp)</span><br><span class="line">            ) &#123;</span><br><span class="line">                Text(</span><br><span class="line">                    text = <span class="keyword">if</span> (isLoginMode) <span class="string">&quot;ç™»å½•&quot;</span> <span class="keyword">else</span> <span class="string">&quot;æ³¨å†Œ&quot;</span>,</span><br><span class="line">                    fontSize = <span class="number">16.</span>sp</span><br><span class="line">                )</span><br><span class="line">            &#125;</span><br><span class="line"></span><br><span class="line">            Spacer(modifier = Modifier.height(<span class="number">8.</span>dp))</span><br><span class="line"></span><br><span class="line">            <span class="comment">// åˆ‡æ¢ç™»å½•/æ³¨å†Œ</span></span><br><span class="line">            Text(</span><br><span class="line">                text = <span class="keyword">if</span> (isLoginMode) <span class="string">&quot;è¿˜æ²¡æœ‰è´¦å·ï¼Ÿå»æ³¨å†Œ&quot;</span> <span class="keyword">else</span> <span class="string">&quot;å·²æœ‰è´¦å·ï¼Ÿå»ç™»å½•&quot;</span>,</span><br><span class="line">                color = MaterialTheme.colorScheme.onPrimaryContainer,</span><br><span class="line">                modifier = Modifier.clickable &#123; isLoginMode = !isLoginMode &#125;</span><br><span class="line">            )</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<hr>
<h3 id="MainActivity-kt"><a href="#MainActivity-kt" class="headerlink" title="MainActivity.kt"></a>MainActivity.kt</h3><figure class="highlight kotlin"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> com.example.myelderlyapp</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> android.app.Activity</span><br><span class="line"><span class="keyword">import</span> android.content.pm.ActivityInfo</span><br><span class="line"><span class="keyword">import</span> android.os.Bundle</span><br><span class="line"><span class="keyword">import</span> androidx.activity.ComponentActivity</span><br><span class="line"><span class="keyword">import</span> androidx.activity.compose.setContent</span><br><span class="line"><span class="keyword">import</span> androidx.compose.material3.ExperimentalMaterial3Api</span><br><span class="line"><span class="keyword">import</span> androidx.compose.runtime.Composable</span><br><span class="line"><span class="keyword">import</span> androidx.compose.ui.platform.LocalView</span><br><span class="line"><span class="keyword">import</span> androidx.navigation.NavType</span><br><span class="line"><span class="keyword">import</span> androidx.navigation.compose.NavHost</span><br><span class="line"><span class="keyword">import</span> androidx.navigation.compose.composable</span><br><span class="line"><span class="keyword">import</span> androidx.navigation.compose.rememberNavController</span><br><span class="line"><span class="keyword">import</span> com.example.myelderlyapp.ui.theme.MyElderlyTheme</span><br><span class="line"></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">MainActivity</span> : <span class="type">ComponentActivity</span>() &#123;</span><br><span class="line">    <span class="meta">@OptIn(ExperimentalMaterial3Api::class)</span></span><br><span class="line">    <span class="keyword">override</span> <span class="function"><span class="keyword">fun</span> <span class="title">onCreate</span><span class="params">(savedInstanceState: <span class="type">Bundle</span>?)</span></span> &#123;</span><br><span class="line">        <span class="keyword">super</span>.onCreate(savedInstanceState)</span><br><span class="line">        setContent &#123;</span><br><span class="line">            MyElderlyTheme &#123;</span><br><span class="line">                <span class="keyword">val</span> navController = rememberNavController()</span><br><span class="line">                NavHost(</span><br><span class="line">                    navController = navController,</span><br><span class="line">                    startDestination = <span class="string">&quot;login&quot;</span></span><br><span class="line">                ) &#123;</span><br><span class="line">                    composable(<span class="string">&quot;login&quot;</span>) &#123;</span><br><span class="line">                        LoginScreen(navController)</span><br><span class="line">                    &#125;</span><br><span class="line">                    composable(<span class="string">&quot;main&quot;</span>) &#123;</span><br><span class="line">                        MainScreenImproved(navController)</span><br><span class="line">                    &#125;</span><br><span class="line">                    composable(<span class="string">&quot;quick_travel&quot;</span>) &#123;</span><br><span class="line">                        QuickTravelScreen(navController)</span><br><span class="line">                    &#125;</span><br><span class="line">                    composable(<span class="string">&quot;health&quot;</span>) &#123;</span><br><span class="line">                        HealthScreen(navController)</span><br><span class="line">                    &#125;</span><br><span class="line">                    composable(<span class="string">&quot;community&quot;</span>) &#123;</span><br><span class="line">                        ArtCommunityScreen(navController)</span><br><span class="line">                    &#125;</span><br><span class="line">                    composable(<span class="string">&quot;gomoku&quot;</span>) &#123;</span><br><span class="line">                        GomokuScreen(navController)</span><br><span class="line">                    &#125;</span><br><span class="line">                    composable(<span class="string">&quot;chess&quot;</span>) &#123;</span><br><span class="line">                        ChessScreen(navController)</span><br><span class="line">                    &#125;</span><br><span class="line">                    composable(<span class="string">&quot;go&quot;</span>) &#123;</span><br><span class="line">                        GoGameScreen(navController)</span><br><span class="line">                    &#125;</span><br><span class="line">                    composable(<span class="string">&quot;mahjong&quot;</span>) &#123;</span><br><span class="line">                        MahjongScreen(navController)</span><br><span class="line">                    &#125;</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<hr>
<h3 id="QuickTravelScreen-kt"><a href="#QuickTravelScreen-kt" class="headerlink" title="QuickTravelScreen.kt"></a>QuickTravelScreen.kt</h3><figure class="highlight kotlin"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> com.example.myelderlyapp</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> android.content.Intent</span><br><span class="line"><span class="keyword">import</span> android.net.Uri</span><br><span class="line"><span class="keyword">import</span> androidx.compose.foundation.Image</span><br><span class="line"><span class="keyword">import</span> androidx.compose.foundation.background</span><br><span class="line"><span class="keyword">import</span> androidx.compose.foundation.clickable</span><br><span class="line"><span class="keyword">import</span> androidx.compose.foundation.layout.*</span><br><span class="line"><span class="keyword">import</span> androidx.compose.foundation.shape.RoundedCornerShape</span><br><span class="line"><span class="keyword">import</span> androidx.compose.material3.Button</span><br><span class="line"><span class="keyword">import</span> androidx.compose.material3.ButtonDefaults</span><br><span class="line"><span class="keyword">import</span> androidx.compose.material3.Card</span><br><span class="line"><span class="keyword">import</span> androidx.compose.material3.MaterialTheme</span><br><span class="line"><span class="keyword">import</span> androidx.compose.material3.Scaffold</span><br><span class="line"><span class="keyword">import</span> androidx.compose.material3.Text</span><br><span class="line"><span class="keyword">import</span> androidx.compose.material3.TopAppBar</span><br><span class="line"><span class="keyword">import</span> androidx.compose.material3.TopAppBarDefaults</span><br><span class="line"><span class="keyword">import</span> androidx.compose.runtime.Composable</span><br><span class="line"><span class="keyword">import</span> androidx.compose.ui.Alignment</span><br><span class="line"><span class="keyword">import</span> androidx.compose.ui.Modifier</span><br><span class="line"><span class="keyword">import</span> androidx.compose.ui.graphics.Color</span><br><span class="line"><span class="keyword">import</span> androidx.compose.ui.platform.LocalContext</span><br><span class="line"><span class="keyword">import</span> androidx.compose.ui.unit.dp</span><br><span class="line"><span class="keyword">import</span> androidx.compose.ui.unit.sp</span><br><span class="line"><span class="keyword">import</span> androidx.navigation.NavController</span><br><span class="line"></span><br><span class="line"><span class="meta">@Composable</span></span><br><span class="line"><span class="function"><span class="keyword">fun</span> <span class="title">QuickTravelScreen</span><span class="params">(navController: <span class="type">NavController</span>)</span></span> &#123;</span><br><span class="line">    <span class="keyword">val</span> context = LocalContext.current</span><br><span class="line">    Scaffold(</span><br><span class="line">        topBar = &#123;</span><br><span class="line">            TopAppBar(</span><br><span class="line">                title = &#123; Text(<span class="string">&quot;å¿«æ·å‡ºè¡Œ&quot;</span>) &#125;,</span><br><span class="line">                navigationIcon = &#123;</span><br><span class="line">                    Image(</span><br><span class="line">                        painter = painterResource(id = R.drawable.ic_back),</span><br><span class="line">                        contentDescription = <span class="string">&quot;Back&quot;</span>,</span><br><span class="line">                        modifier = Modifier</span><br><span class="line">                            .padding(<span class="number">8.</span>dp)</span><br><span class="line">                            .clickable &#123;</span><br><span class="line">                                navController.popBackStack()</span><br><span class="line">                            &#125;</span><br><span class="line">                    )</span><br><span class="line">                &#125;,</span><br><span class="line">                colors = TopAppBarDefaults.topAppBarColors(</span><br><span class="line">                    containerColor = MaterialTheme.colorScheme.primary</span><br><span class="line">                )</span><br><span class="line">            )</span><br><span class="line">        &#125;</span><br><span class="line">    ) &#123; paddingValues -&gt;</span><br><span class="line">        Column(</span><br><span class="line">            modifier = Modifier</span><br><span class="line">                .fillMaxSize()</span><br><span class="line">                .background(MaterialTheme.colorScheme.background)</span><br><span class="line">                .padding(paddingValues),</span><br><span class="line">            verticalArrangement = Arrangement.spacedBy(<span class="number">16.</span>dp),</span><br><span class="line">            horizontalAlignment = Alignment.CenterHorizontally</span><br><span class="line">        ) &#123;</span><br><span class="line">            Spacer(modifier = Modifier.height(<span class="number">24.</span>dp))</span><br><span class="line">            <span class="comment">// æ»´æ»´æ‰“è½¦æŒ‰é’®</span></span><br><span class="line">            Button(</span><br><span class="line">                onClick = &#123;</span><br><span class="line">                    <span class="comment">// è°ƒç”¨æ»´æ»´æ‰“è½¦ URI Scheme</span></span><br><span class="line">                    <span class="keyword">val</span> intent = Intent(Intent.ACTION_VIEW)</span><br><span class="line">                    intent.<span class="keyword">data</span> = Uri.parse(<span class="string">&quot;didi://&quot;</span>)</span><br><span class="line">                    <span class="comment">// è‹¥æ»´æ»´æœªå®‰è£…ï¼Œè·³è½¬åˆ°å•†åº—</span></span><br><span class="line">                    <span class="keyword">if</span> (intent.resolveActivity(context.packageManager) != <span class="literal">null</span>) &#123;</span><br><span class="line">                        context.startActivity(intent)</span><br><span class="line">                    &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">                        <span class="keyword">val</span> uri = Uri.parse(<span class="string">&quot;market://details?id=com.xiaojukeji.didi&quot;</span>)</span><br><span class="line">                        context.startActivity(Intent(Intent.ACTION_VIEW, uri))</span><br><span class="line">                    &#125;</span><br><span class="line">                &#125;,</span><br><span class="line">                modifier = Modifier</span><br><span class="line">                    .fillMaxWidth(<span class="number">0.8f</span>)</span><br><span class="line">                    .height(<span class="number">50.</span>dp),</span><br><span class="line">                colors = ButtonDefaults.buttonColors(containerColor = MaterialTheme.colorScheme.secondary),</span><br><span class="line">                shape = RoundedCornerShape(<span class="number">25.</span>dp)</span><br><span class="line">            ) &#123;</span><br><span class="line">                Text(text = <span class="string">&quot;ä¸€é”®æ‰“è½¦&quot;</span>, fontSize = <span class="number">18.</span>sp, color = Color.White)</span><br><span class="line">            &#125;</span><br><span class="line"></span><br><span class="line">            <span class="comment">// å…¬äº¤æŸ¥è¯¢æŒ‰é’®</span></span><br><span class="line">            Button(</span><br><span class="line">                onClick = &#123;</span><br><span class="line">                    <span class="keyword">val</span> url = <span class="string">&quot;https://m.8684.cn&quot;</span></span><br><span class="line">                    <span class="keyword">val</span> intent = Intent(Intent.ACTION_VIEW, Uri.parse(url))</span><br><span class="line">                    context.startActivity(intent)</span><br><span class="line">                &#125;,</span><br><span class="line">                modifier = Modifier</span><br><span class="line">                    .fillMaxWidth(<span class="number">0.8f</span>)</span><br><span class="line">                    .height(<span class="number">50.</span>dp),</span><br><span class="line">                colors = ButtonDefaults.buttonColors(containerColor = MaterialTheme.colorScheme.secondary),</span><br><span class="line">                shape = RoundedCornerShape(<span class="number">25.</span>dp)</span><br><span class="line">            ) &#123;</span><br><span class="line">                Text(text = <span class="string">&quot;å…¬äº¤æŸ¥è¯¢&quot;</span>, fontSize = <span class="number">18.</span>sp, color = Color.White)</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<hr>
<h3 id="HealthScreen-kt"><a href="#HealthScreen-kt" class="headerlink" title="HealthScreen.kt"></a>HealthScreen.kt</h3><figure class="highlight kotlin"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> com.example.myelderlyapp</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> androidx.compose.foundation.background</span><br><span class="line"><span class="keyword">import</span> androidx.compose.foundation.layout.*</span><br><span class="line"><span class="keyword">import</span> androidx.compose.foundation.shape.RoundedCornerShape</span><br><span class="line"><span class="keyword">import</span> androidx.compose.material3.Button</span><br><span class="line"><span class="keyword">import</span> androidx.compose.material3.ButtonDefaults</span><br><span class="line"><span class="keyword">import</span> androidx.compose.material3.MaterialTheme</span><br><span class="line"><span class="keyword">import</span> androidx.compose.material3.Scaffold</span><br><span class="line"><span class="keyword">import</span> androidx.compose.material3.Text</span><br><span class="line"><span class="keyword">import</span> androidx.compose.material3.TopAppBar</span><br><span class="line"><span class="keyword">import</span> androidx.compose.material3.TopAppBarDefaults</span><br><span class="line"><span class="keyword">import</span> androidx.compose.runtime.Composable</span><br><span class="line"><span class="keyword">import</span> androidx.compose.ui.Alignment</span><br><span class="line"><span class="keyword">import</span> androidx.compose.ui.Modifier</span><br><span class="line"><span class="keyword">import</span> androidx.compose.ui.graphics.Color</span><br><span class="line"><span class="keyword">import</span> androidx.compose.ui.unit.dp</span><br><span class="line"><span class="keyword">import</span> androidx.compose.ui.unit.sp</span><br><span class="line"><span class="keyword">import</span> androidx.navigation.NavController</span><br><span class="line"></span><br><span class="line"><span class="meta">@Composable</span></span><br><span class="line"><span class="function"><span class="keyword">fun</span> <span class="title">HealthScreen</span><span class="params">(navController: <span class="type">NavController</span>)</span></span> &#123;</span><br><span class="line">    Scaffold(</span><br><span class="line">        topBar = &#123;</span><br><span class="line">            TopAppBar(</span><br><span class="line">                title = &#123; Text(<span class="string">&quot;å¥åº·ç®¡ç†&quot;</span>) &#125;,</span><br><span class="line">                navigationIcon = &#123;</span><br><span class="line">                    Image(</span><br><span class="line">                        painter = painterResource(id = R.drawable.ic_back),</span><br><span class="line">                        contentDescription = <span class="string">&quot;Back&quot;</span>,</span><br><span class="line">                        modifier = Modifier</span><br><span class="line">                            .padding(<span class="number">8.</span>dp)</span><br><span class="line">                            .clickable &#123;</span><br><span class="line">                                navController.popBackStack()</span><br><span class="line">                            &#125;</span><br><span class="line">                    )</span><br><span class="line">                &#125;,</span><br><span class="line">                colors = TopAppBarDefaults.topAppBarColors(</span><br><span class="line">                    containerColor = MaterialTheme.colorScheme.primary</span><br><span class="line">                )</span><br><span class="line">            )</span><br><span class="line">        &#125;</span><br><span class="line">    ) &#123; paddingValues -&gt;</span><br><span class="line">        Column(</span><br><span class="line">            modifier = Modifier</span><br><span class="line">                .fillMaxSize()</span><br><span class="line">                .background(MaterialTheme.colorScheme.background)</span><br><span class="line">                .padding(paddingValues),</span><br><span class="line">            verticalArrangement = Arrangement.spacedBy(<span class="number">16.</span>dp),</span><br><span class="line">            horizontalAlignment = Alignment.CenterHorizontally</span><br><span class="line">        ) &#123;</span><br><span class="line">            Spacer(modifier = Modifier.height(<span class="number">24.</span>dp))</span><br><span class="line"></span><br><span class="line">            <span class="comment">// ä¸€é”®æŒ‚å·</span></span><br><span class="line">            Button(</span><br><span class="line">                onClick = &#123;</span><br><span class="line">                    <span class="comment">// <span class="doctag">TODO:</span> æ¥å…¥æŒ‚å· API</span></span><br><span class="line">                    navController.navigate(<span class="string">&quot;register_hospital&quot;</span>)</span><br><span class="line">                &#125;,</span><br><span class="line">                modifier = Modifier</span><br><span class="line">                    .fillMaxWidth(<span class="number">0.8f</span>)</span><br><span class="line">                    .height(<span class="number">50.</span>dp),</span><br><span class="line">                colors = ButtonDefaults.buttonColors(containerColor = MaterialTheme.colorScheme.secondary),</span><br><span class="line">                shape = RoundedCornerShape(<span class="number">25.</span>dp)</span><br><span class="line">            ) &#123;</span><br><span class="line">                Text(text = <span class="string">&quot;ä¸€é”®æŒ‚å·&quot;</span>, fontSize = <span class="number">18.</span>sp, color = Color.White)</span><br><span class="line">            &#125;</span><br><span class="line"></span><br><span class="line">            <span class="comment">// åœ¨çº¿å’¨è¯¢</span></span><br><span class="line">            Button(</span><br><span class="line">                onClick = &#123;</span><br><span class="line">                    <span class="comment">// <span class="doctag">TODO:</span> æ¥å…¥åœ¨çº¿å’¨è¯¢ API</span></span><br><span class="line">                    navController.navigate(<span class="string">&quot;online_consult&quot;</span>)</span><br><span class="line">                &#125;,</span><br><span class="line">                modifier = Modifier</span><br><span class="line">                    .fillMaxWidth(<span class="number">0.8f</span>)</span><br><span class="line">                    .height(<span class="number">50.</span>dp),</span><br><span class="line">                colors = ButtonDefaults.buttonColors(containerColor = MaterialTheme.colorScheme.secondary),</span><br><span class="line">                shape = RoundedCornerShape(<span class="number">25.</span>dp)</span><br><span class="line">            ) &#123;</span><br><span class="line">                Text(text = <span class="string">&quot;åœ¨çº¿å’¨è¯¢&quot;</span>, fontSize = <span class="number">18.</span>sp, color = Color.White)</span><br><span class="line">            &#125;</span><br><span class="line"></span><br><span class="line">            <span class="comment">// ç”¨è¯æé†’</span></span><br><span class="line">            Button(</span><br><span class="line">                onClick = &#123;</span><br><span class="line">                    <span class="comment">// <span class="doctag">TODO:</span> ç”¨ WorkManager åšæœ¬åœ°å®šæ—¶æé†’</span></span><br><span class="line">                    navController.navigate(<span class="string">&quot;medication_reminder&quot;</span>)</span><br><span class="line">                &#125;,</span><br><span class="line">                modifier = Modifier</span><br><span class="line">                    .fillMaxWidth(<span class="number">0.8f</span>)</span><br><span class="line">                    .height(<span class="number">50.</span>dp),</span><br><span class="line">                colors = ButtonDefaults.buttonColors(containerColor = MaterialTheme.colorScheme.secondary),</span><br><span class="line">                shape = RoundedCornerShape(<span class="number">25.</span>dp)</span><br><span class="line">            ) &#123;</span><br><span class="line">                Text(text = <span class="string">&quot;ç”¨è¯æé†’&quot;</span>, fontSize = <span class="number">18.</span>sp, color = Color.White)</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<hr>
<h3 id="ArtCommunityScreen-kt"><a href="#ArtCommunityScreen-kt" class="headerlink" title="ArtCommunityScreen.kt"></a>ArtCommunityScreen.kt</h3><figure class="highlight kotlin"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> com.example.myelderlyapp</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> androidx.compose.foundation.Image</span><br><span class="line"><span class="keyword">import</span> androidx.compose.foundation.background</span><br><span class="line"><span class="keyword">import</span> androidx.compose.foundation.clickable</span><br><span class="line"><span class="keyword">import</span> androidx.compose.foundation.layout.*</span><br><span class="line"><span class="keyword">import</span> androidx.compose.foundation.lazy.grid.GridCells</span><br><span class="line"><span class="keyword">import</span> androidx.compose.foundation.lazy.grid.LazyVerticalGrid</span><br><span class="line"><span class="keyword">import</span> androidx.compose.foundation.shape.CircleShape</span><br><span class="line"><span class="keyword">import</span> androidx.compose.material3.Card</span><br><span class="line"><span class="keyword">import</span> androidx.compose.material3.MaterialTheme</span><br><span class="line"><span class="keyword">import</span> androidx.compose.material3.Scaffold</span><br><span class="line"><span class="keyword">import</span> androidx.compose.material3.Text</span><br><span class="line"><span class="keyword">import</span> androidx.compose.material3.TopAppBar</span><br><span class="line"><span class="keyword">import</span> androidx.compose.material3.TopAppBarDefaults</span><br><span class="line"><span class="keyword">import</span> androidx.compose.runtime.Composable</span><br><span class="line"><span class="keyword">import</span> androidx.compose.ui.Alignment</span><br><span class="line"><span class="keyword">import</span> androidx.compose.ui.Modifier</span><br><span class="line"><span class="keyword">import</span> androidx.compose.ui.draw.clip</span><br><span class="line"><span class="keyword">import</span> androidx.compose.ui.graphics.Color</span><br><span class="line"><span class="keyword">import</span> androidx.compose.ui.res.painterResource</span><br><span class="line"><span class="keyword">import</span> androidx.compose.ui.unit.dp</span><br><span class="line"><span class="keyword">import</span> androidx.compose.ui.unit.sp</span><br><span class="line"><span class="keyword">import</span> androidx.navigation.NavController</span><br><span class="line"><span class="keyword">import</span> com.airbnb.lottie.compose.*</span><br><span class="line"></span><br><span class="line"><span class="meta">@Composable</span></span><br><span class="line"><span class="function"><span class="keyword">fun</span> <span class="title">ArtCommunityScreen</span><span class="params">(navController: <span class="type">NavController</span>)</span></span> &#123;</span><br><span class="line">    Scaffold(</span><br><span class="line">        topBar = &#123;</span><br><span class="line">            TopAppBar(</span><br><span class="line">                title = &#123; Text(<span class="string">&quot;æ–‡è‰ºç¤¾åŒº&quot;</span>) &#125;,</span><br><span class="line">                navigationIcon = &#123;</span><br><span class="line">                    Image(</span><br><span class="line">                        painter = painterResource(id = R.drawable.ic_back),</span><br><span class="line">                        contentDescription = <span class="string">&quot;Back&quot;</span>,</span><br><span class="line">                        modifier = Modifier</span><br><span class="line">                            .padding(<span class="number">8.</span>dp)</span><br><span class="line">                            .clickable &#123;</span><br><span class="line">                                navController.popBackStack()</span><br><span class="line">                            &#125;</span><br><span class="line">                    )</span><br><span class="line">                &#125;,</span><br><span class="line">                colors = TopAppBarDefaults.topAppBarColors(</span><br><span class="line">                    containerColor = MaterialTheme.colorScheme.primary</span><br><span class="line">                )</span><br><span class="line">            )</span><br><span class="line">        &#125;</span><br><span class="line">    ) &#123; paddingValues -&gt;</span><br><span class="line">        Column(</span><br><span class="line">            modifier = Modifier</span><br><span class="line">                .fillMaxSize()</span><br><span class="line">                .background(MaterialTheme.colorScheme.background)</span><br><span class="line">                .padding(paddingValues)</span><br><span class="line">        ) &#123;</span><br><span class="line">            Spacer(modifier = Modifier.height(<span class="number">16.</span>dp))</span><br><span class="line">            LazyVerticalGrid(</span><br><span class="line">                columns = GridCells.Fixed(<span class="number">2</span>),</span><br><span class="line">                modifier = Modifier</span><br><span class="line">                    .fillMaxSize()</span><br><span class="line">                    .padding(<span class="number">16.</span>dp),</span><br><span class="line">                verticalArrangement = Arrangement.spacedBy(<span class="number">16.</span>dp),</span><br><span class="line">                horizontalArrangement = Arrangement.spacedBy(<span class="number">16.</span>dp)</span><br><span class="line">            ) &#123;</span><br><span class="line">                <span class="comment">// äº”å­æ£‹</span></span><br><span class="line">                item &#123;</span><br><span class="line">                    GameCard(</span><br><span class="line">                        title = <span class="string">&quot;äº”å­æ£‹&quot;</span>,</span><br><span class="line">                        lottieFile = <span class="string">&quot;lottie/gomoku.json&quot;</span></span><br><span class="line">                    ) &#123;</span><br><span class="line">                        navController.navigate(<span class="string">&quot;gomoku&quot;</span>)</span><br><span class="line">                    &#125;</span><br><span class="line">                &#125;</span><br><span class="line">                <span class="comment">// ä¸­å›½è±¡æ£‹</span></span><br><span class="line">                item &#123;</span><br><span class="line">                    GameCard(</span><br><span class="line">                        title = <span class="string">&quot;ä¸­å›½è±¡æ£‹&quot;</span>,</span><br><span class="line">                        lottieFile = <span class="string">&quot;lottie/chess.json&quot;</span></span><br><span class="line">                    ) &#123;</span><br><span class="line">                        navController.navigate(<span class="string">&quot;chess&quot;</span>)</span><br><span class="line">                    &#125;</span><br><span class="line">                &#125;</span><br><span class="line">                <span class="comment">// å›´æ£‹</span></span><br><span class="line">                item &#123;</span><br><span class="line">                    GameCard(</span><br><span class="line">                        title = <span class="string">&quot;å›´æ£‹&quot;</span>,</span><br><span class="line">                        lottieFile = <span class="string">&quot;lottie/go.json&quot;</span></span><br><span class="line">                    ) &#123;</span><br><span class="line">                        navController.navigate(<span class="string">&quot;go&quot;</span>)</span><br><span class="line">                    &#125;</span><br><span class="line">                &#125;</span><br><span class="line">                <span class="comment">// éº»å°†</span></span><br><span class="line">                item &#123;</span><br><span class="line">                    GameCard(</span><br><span class="line">                        title = <span class="string">&quot;éº»å°†&quot;</span>,</span><br><span class="line">                        lottieFile = <span class="string">&quot;lottie/mahjong.json&quot;</span></span><br><span class="line">                    ) &#123;</span><br><span class="line">                        navController.navigate(<span class="string">&quot;mahjong&quot;</span>)</span><br><span class="line">                    &#125;</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="meta">@Composable</span></span><br><span class="line"><span class="function"><span class="keyword">fun</span> <span class="title">GameCard</span><span class="params">(title: <span class="type">String</span>, lottieFile: <span class="type">String</span>, onClick: () -&gt; <span class="type">Unit</span>)</span></span> &#123;</span><br><span class="line">    Card(</span><br><span class="line">        modifier = Modifier</span><br><span class="line">            .size(<span class="number">150.</span>dp)</span><br><span class="line">            .clickable(onClick = onClick),</span><br><span class="line">        shape = RoundedCornerShape(<span class="number">16.</span>dp),</span><br><span class="line">        elevation = CardDefaults.cardElevation(defaultElevation = <span class="number">8.</span>dp)</span><br><span class="line">    ) &#123;</span><br><span class="line">        Box(modifier = Modifier.background(Color(<span class="number">0xFFFFF8E1</span>))) &#123;</span><br><span class="line">            <span class="keyword">val</span> composition <span class="keyword">by</span> rememberLottieComposition(LottieCompositionSpec.Asset(lottieFile))</span><br><span class="line">            <span class="keyword">val</span> progress <span class="keyword">by</span> animateLottieCompositionAsState(</span><br><span class="line">                composition,</span><br><span class="line">                iterations = LottieConstants.IterateForever</span><br><span class="line">            )</span><br><span class="line">            LottieAnimation(</span><br><span class="line">                composition,</span><br><span class="line">                progress,</span><br><span class="line">                modifier = Modifier.size(<span class="number">100.</span>dp).align(Alignment.Center)</span><br><span class="line">            )</span><br><span class="line">            Text(</span><br><span class="line">                text = title,</span><br><span class="line">                fontSize = <span class="number">16.</span>sp,</span><br><span class="line">                modifier = Modifier</span><br><span class="line">                    .align(Alignment.BottomCenter)</span><br><span class="line">                    .padding(bottom = <span class="number">8.</span>dp)</span><br><span class="line">            )</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<hr>
<h3 id="GomokuScreen-kt"><a href="#GomokuScreen-kt" class="headerlink" title="GomokuScreen.kt"></a>GomokuScreen.kt</h3><figure class="highlight kotlin"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br><span class="line">147</span><br><span class="line">148</span><br><span class="line">149</span><br><span class="line">150</span><br><span class="line">151</span><br><span class="line">152</span><br><span class="line">153</span><br><span class="line">154</span><br><span class="line">155</span><br><span class="line">156</span><br><span class="line">157</span><br><span class="line">158</span><br><span class="line">159</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> com.example.myelderlyapp</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> androidx.compose.foundation.Canvas</span><br><span class="line"><span class="keyword">import</span> androidx.compose.foundation.clickable</span><br><span class="line"><span class="keyword">import</span> androidx.compose.foundation.layout.*</span><br><span class="line"><span class="keyword">import</span> androidx.compose.material3.*</span><br><span class="line"><span class="keyword">import</span> androidx.compose.runtime.*</span><br><span class="line"><span class="keyword">import</span> androidx.compose.ui.Modifier</span><br><span class="line"><span class="keyword">import</span> androidx.compose.ui.geometry.Offset</span><br><span class="line"><span class="keyword">import</span> androidx.compose.ui.graphics.Color</span><br><span class="line"><span class="keyword">import</span> androidx.compose.ui.input.pointer.pointerInput</span><br><span class="line"><span class="keyword">import</span> androidx.compose.ui.text.font.FontWeight</span><br><span class="line"><span class="keyword">import</span> androidx.compose.ui.unit.dp</span><br><span class="line"><span class="keyword">import</span> androidx.compose.ui.unit.sp</span><br><span class="line"><span class="keyword">import</span> androidx.navigation.NavController</span><br><span class="line"><span class="keyword">import</span> kotlin.random.Random</span><br><span class="line"></span><br><span class="line"><span class="keyword">data</span> <span class="keyword">class</span> <span class="title class_">Point</span>(<span class="keyword">val</span> x: <span class="built_in">Int</span>, <span class="keyword">val</span> y: <span class="built_in">Int</span>)</span><br><span class="line"></span><br><span class="line"><span class="meta">@Composable</span></span><br><span class="line"><span class="function"><span class="keyword">fun</span> <span class="title">GomokuScreen</span><span class="params">(navController: <span class="type">NavController</span>)</span></span> &#123;</span><br><span class="line">    <span class="keyword">var</span> stonePositions <span class="keyword">by</span> remember &#123; mutableStateOf(mutableListOf&lt;Pair&lt;Point, <span class="built_in">Boolean</span>&gt;&gt;()) &#125;</span><br><span class="line">    <span class="keyword">var</span> isBlackTurn <span class="keyword">by</span> remember &#123; mutableStateOf(<span class="literal">true</span>) &#125;</span><br><span class="line">    <span class="keyword">var</span> winner <span class="keyword">by</span> remember &#123; mutableStateOf&lt;String?&gt;(<span class="literal">null</span>) &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// æ£‹å±€æ ¼è¨€</span></span><br><span class="line">    <span class="keyword">val</span> proverbs = listOf(</span><br><span class="line">        <span class="string">&quot;è½å­æ— æ‚”&quot;</span>, <span class="string">&quot;ä¸ç ´ä¸ç«‹&quot;</span>, <span class="string">&quot;ä»¥é€€ä¸ºè¿›&quot;</span>, <span class="string">&quot;è™šå®ç›¸ç”Ÿ&quot;</span>, <span class="string">&quot;åšå¾·è½½ç‰©&quot;</span>,</span><br><span class="line">        <span class="string">&quot;äººæ£‹åˆä¸€&quot;</span>, <span class="string">&quot;å¿ƒé™è‡ªç„¶&quot;</span>, <span class="string">&quot;æ™ºè€…åƒè™‘ï¼Œå¿…æœ‰ä¸€å¤±&quot;</span>, <span class="string">&quot;ä»¥é€¸å¾…åŠ³&quot;</span>, <span class="string">&quot;ä¸‰æ€è€Œè¡Œ&quot;</span>,</span><br><span class="line">        <span class="string">&quot;è§æ‹›æ‹†æ‹›&quot;</span>, <span class="string">&quot;åº”å¯¹è‡ªå¦‚&quot;</span>, <span class="string">&quot;åæ­¥æ€ä¸€äººï¼Œåƒé‡Œä¸ç•™è¡Œ&quot;</span>, <span class="string">&quot;å…ˆå£°å¤ºäºº&quot;</span>, <span class="string">&quot;ä¸æ”»è‡ªç ´&quot;</span>,</span><br><span class="line">        <span class="string">&quot;æ²‰ç€å†·é™&quot;</span>, <span class="string">&quot;åšè§‚çº¦å–&quot;</span>, <span class="string">&quot;èƒœå…µå…ˆèƒœè€Œåæ±‚æˆ˜&quot;</span>, <span class="string">&quot;çŸ¥å½¼çŸ¥å·±ï¼Œç™¾æˆ˜ä¸æ®†&quot;</span>, <span class="string">&quot;å…µè´µç¥é€Ÿ&quot;</span>,</span><br><span class="line">        <span class="string">&quot;çœ‹å±±æ˜¯å±±ï¼Œçœ‹å±±ä¸æ˜¯å±±&quot;</span>, <span class="string">&quot;èˆæˆ‘å…¶è°&quot;</span>, <span class="string">&quot;å¯¹å¼ˆå¦‚äººç”Ÿ&quot;</span>, <span class="string">&quot;æ‰‹è°ˆæ™®ä¸–&quot;</span>, <span class="string">&quot;ä¸€å­å½“å…ˆ&quot;</span>,</span><br><span class="line">        <span class="string">&quot;é»‘ç™½åˆ†æ˜&quot;</span>, <span class="string">&quot;è™šæ™ƒä¸€æ‹›&quot;</span>, <span class="string">&quot;è½¬å®ˆä¸ºæ”»&quot;</span>, <span class="string">&quot;æ˜ä¿®æ ˆé“ï¼Œæš—åº¦é™ˆä»“&quot;</span>, <span class="string">&quot;é¡ºåŠ¿è€Œä¸º&quot;</span></span><br><span class="line">    )</span><br><span class="line">    <span class="keyword">val</span> currentProverb = remember &#123; proverbs.random() &#125;</span><br><span class="line"></span><br><span class="line">    Column(</span><br><span class="line">        modifier = Modifier.fillMaxSize(),</span><br><span class="line">        verticalArrangement = Arrangement.Top,</span><br><span class="line">        horizontalAlignment = Alignment.CenterHorizontally</span><br><span class="line">    ) &#123;</span><br><span class="line">        <span class="comment">// æ ‡é¢˜ä¸æ ¼è¨€</span></span><br><span class="line">        Text(</span><br><span class="line">            text = <span class="string">&quot;äº”å­æ£‹&quot;</span>,</span><br><span class="line">            fontSize = <span class="number">24.</span>sp,</span><br><span class="line">            fontWeight = FontWeight.Bold,</span><br><span class="line">            modifier = Modifier.padding(top = <span class="number">16.</span>dp)</span><br><span class="line">        )</span><br><span class="line">        Text(</span><br><span class="line">            text = <span class="string">&quot;æ ¼è¨€ï¼š<span class="variable">$currentProverb</span>&quot;</span>,</span><br><span class="line">            fontSize = <span class="number">16.</span>sp,</span><br><span class="line">            modifier = Modifier.padding(vertical = <span class="number">8.</span>dp)</span><br><span class="line">        )</span><br><span class="line">        <span class="keyword">if</span> (winner != <span class="literal">null</span>) &#123;</span><br><span class="line">            Text(</span><br><span class="line">                text = <span class="string">&quot;<span class="variable">$winner</span> è·èƒœï¼&quot;</span>,</span><br><span class="line">                fontSize = <span class="number">20.</span>sp,</span><br><span class="line">                fontWeight = FontWeight.Bold,</span><br><span class="line">                color = <span class="keyword">if</span> (winner == <span class="string">&quot;é»‘æ–¹&quot;</span>) Color.Black <span class="keyword">else</span> Color.White,</span><br><span class="line">                modifier = Modifier.padding(vertical = <span class="number">4.</span>dp)</span><br><span class="line">            )</span><br><span class="line">        &#125;</span><br><span class="line">        Box(</span><br><span class="line">            modifier = Modifier</span><br><span class="line">                .padding(<span class="number">16.</span>dp)</span><br><span class="line">                .size(<span class="number">300.</span>dp)</span><br><span class="line">                .background(Color(<span class="number">0xFFEECC99</span>))</span><br><span class="line">                .pointerInput(<span class="built_in">Unit</span>) &#123;</span><br><span class="line">                    detectTapGestures &#123; offset -&gt;</span><br><span class="line">                        <span class="keyword">if</span> (winner != <span class="literal">null</span>) <span class="keyword">return</span><span class="symbol">@detectTapGestures</span></span><br><span class="line">                        <span class="keyword">val</span> cellSize = <span class="number">300f</span> / <span class="number">15f</span></span><br><span class="line">                        <span class="keyword">val</span> x = (offset.x / cellSize).toInt()</span><br><span class="line">                        <span class="keyword">val</span> y = (offset.y / cellSize).toInt()</span><br><span class="line">                        <span class="keyword">val</span> point = Point(x, y)</span><br><span class="line">                        <span class="comment">// å·²æœ‰æ£‹å­åˆ™ä¸å¯è½å­</span></span><br><span class="line">                        <span class="keyword">if</span> (stonePositions.any &#123; it.first == point &#125;) <span class="keyword">return</span><span class="symbol">@detectTapGestures</span></span><br><span class="line">                        stonePositions.add(point to isBlackTurn)</span><br><span class="line">                        <span class="keyword">if</span> (checkWin(stonePositions, point, isBlackTurn)) &#123;</span><br><span class="line">                            winner = <span class="keyword">if</span> (isBlackTurn) <span class="string">&quot;é»‘æ–¹&quot;</span> <span class="keyword">else</span> <span class="string">&quot;ç™½æ–¹&quot;</span></span><br><span class="line">                        &#125;</span><br><span class="line">                        isBlackTurn = !isBlackTurn</span><br><span class="line">                    &#125;</span><br><span class="line">                &#125;</span><br><span class="line">        ) &#123;</span><br><span class="line">            Canvas(modifier = Modifier.matchParentSize()) &#123;</span><br><span class="line">                <span class="keyword">val</span> cellSize = size.width / <span class="number">15f</span></span><br><span class="line">                <span class="comment">// ç»˜åˆ¶æ£‹ç›˜</span></span><br><span class="line">                <span class="keyword">for</span> (i <span class="keyword">in</span> <span class="number">0.</span><span class="number">.15</span>) &#123;</span><br><span class="line">                    drawLine(</span><br><span class="line">                        color = Color.Black,</span><br><span class="line">                        start = Offset(i * cellSize, <span class="number">0f</span>),</span><br><span class="line">                        end = Offset(i * cellSize, size.height)</span><br><span class="line">                    )</span><br><span class="line">                    drawLine(</span><br><span class="line">                        color = Color.Black,</span><br><span class="line">                        start = Offset(<span class="number">0f</span>, i * cellSize),</span><br><span class="line">                        end = Offset(size.width, i * cellSize)</span><br><span class="line">                    )</span><br><span class="line">                &#125;</span><br><span class="line">                <span class="comment">// ç»˜åˆ¶æ£‹å­</span></span><br><span class="line">                stonePositions.forEach &#123; (pt, isBlack) -&gt;</span><br><span class="line">                    drawCircle(</span><br><span class="line">                        color = <span class="keyword">if</span> (isBlack) Color.Black <span class="keyword">else</span> Color.White,</span><br><span class="line">                        radius = cellSize * <span class="number">0.4f</span>,</span><br><span class="line">                        center = Offset(pt.x * cellSize + cellSize / <span class="number">2</span>, pt.y * cellSize + cellSize / <span class="number">2</span>)</span><br><span class="line">                    )</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        Spacer(modifier = Modifier.height(<span class="number">16.</span>dp))</span><br><span class="line">        Button(</span><br><span class="line">            onClick = &#123;</span><br><span class="line">                stonePositions.clear()</span><br><span class="line">                isBlackTurn = <span class="literal">true</span></span><br><span class="line">                winner = <span class="literal">null</span></span><br><span class="line">            &#125;,</span><br><span class="line">            modifier = Modifier</span><br><span class="line">                .fillMaxWidth(<span class="number">0.5f</span>)</span><br><span class="line">                .height(<span class="number">40.</span>dp),</span><br><span class="line">            shape = RoundedCornerShape(<span class="number">20.</span>dp),</span><br><span class="line">            colors = ButtonDefaults.buttonColors(containerColor = MaterialTheme.colorScheme.primary)</span><br><span class="line">        ) &#123;</span><br><span class="line">            Text(text = <span class="string">&quot;é‡æ–°å¼€å§‹&quot;</span>, color = Color.White)</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        Spacer(modifier = Modifier.height(<span class="number">16.</span>dp))</span><br><span class="line">        Text(</span><br><span class="line">            text = <span class="string">&quot;ç‚¹å‡»å±å¹•ä»»æ„ä½ç½®è½å­ã€‚å…ˆé»‘åç™½ï¼Œè¿æˆäº”å­ä¸ºèƒœã€‚&quot;</span>,</span><br><span class="line">            fontSize = <span class="number">14.</span>sp</span><br><span class="line">        )</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">fun</span> <span class="title">checkWin</span><span class="params">(</span></span></span><br><span class="line"><span class="params"><span class="function">    positions: <span class="type">List</span>&lt;<span class="type">Pair</span>&lt;<span class="type">Point</span>, <span class="built_in">Boolean</span>&gt;&gt;,</span></span></span><br><span class="line"><span class="params"><span class="function">    lastMove: <span class="type">Point</span>,</span></span></span><br><span class="line"><span class="params"><span class="function">    isBlack: <span class="type">Boolean</span></span></span></span><br><span class="line"><span class="params"><span class="function">)</span></span>: <span class="built_in">Boolean</span> &#123;</span><br><span class="line">    <span class="keyword">val</span> directions = listOf(</span><br><span class="line">        listOf(Pair(<span class="number">1</span>, <span class="number">0</span>), Pair(-<span class="number">1</span>, <span class="number">0</span>)), <span class="comment">// æ¨ªå‘</span></span><br><span class="line">        listOf(Pair(<span class="number">0</span>, <span class="number">1</span>), Pair(<span class="number">0</span>, -<span class="number">1</span>)), <span class="comment">// çºµå‘</span></span><br><span class="line">        listOf(Pair(<span class="number">1</span>, <span class="number">1</span>), Pair(-<span class="number">1</span>, -<span class="number">1</span>)), <span class="comment">// æ–œå‘1</span></span><br><span class="line">        listOf(Pair(<span class="number">1</span>, -<span class="number">1</span>), Pair(-<span class="number">1</span>, <span class="number">1</span>)) <span class="comment">// æ–œå‘2</span></span><br><span class="line">    )</span><br><span class="line">    <span class="keyword">for</span> (dir <span class="keyword">in</span> directions) &#123;</span><br><span class="line">        <span class="keyword">var</span> count = <span class="number">1</span></span><br><span class="line">        dir.forEach &#123; (dx, dy) -&gt;</span><br><span class="line">            <span class="keyword">var</span> nx = lastMove.x + dx</span><br><span class="line">            <span class="keyword">var</span> ny = lastMove.y + dy</span><br><span class="line">            <span class="keyword">while</span> (positions.any &#123; it.first.x == nx &amp;&amp; it.first.y == ny &amp;&amp; it.second == isBlack &#125;) &#123;</span><br><span class="line">                count++</span><br><span class="line">                nx += dx</span><br><span class="line">                ny += dy</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">if</span> (count &gt;= <span class="number">5</span>) <span class="keyword">return</span> <span class="literal">true</span></span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> <span class="literal">false</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<hr>
<h3 id="ChessScreen-kt"><a href="#ChessScreen-kt" class="headerlink" title="ChessScreen.kt"></a>ChessScreen.kt</h3><figure class="highlight kotlin"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> com.example.myelderlyapp</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> android.content.Context</span><br><span class="line"><span class="keyword">import</span> android.graphics.*</span><br><span class="line"><span class="keyword">import</span> android.util.AttributeSet</span><br><span class="line"><span class="keyword">import</span> android.view.MotionEvent</span><br><span class="line"><span class="keyword">import</span> android.view.View</span><br><span class="line"><span class="keyword">import</span> androidx.compose.foundation.layout.Box</span><br><span class="line"><span class="keyword">import</span> androidx.compose.foundation.layout.fillMaxSize</span><br><span class="line"><span class="keyword">import</span> androidx.compose.material3.*</span><br><span class="line"><span class="keyword">import</span> androidx.compose.runtime.Composable</span><br><span class="line"><span class="keyword">import</span> androidx.compose.ui.Modifier</span><br><span class="line"><span class="keyword">import</span> androidx.compose.ui.platform.LocalContext</span><br><span class="line"><span class="keyword">import</span> androidx.navigation.NavController</span><br><span class="line"></span><br><span class="line"><span class="comment">// è‡ªå®šä¹‰ Viewï¼šç»˜åˆ¶ä¸­å›½è±¡æ£‹æ£‹ç›˜åŠæ£‹å­ï¼Œå¹¶å®ç°ç®€å•çš„äº¤äº’</span></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">ChessBoardView</span>(context: Context, attrs: AttributeSet? = <span class="literal">null</span>) : View(context, attrs) &#123;</span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">val</span> paint = Paint().apply &#123;</span><br><span class="line">        isAntiAlias = <span class="literal">true</span></span><br><span class="line">        strokeWidth = <span class="number">4f</span></span><br><span class="line">        color = Color.BLACK</span><br><span class="line">        style = Paint.Style.STROKE</span><br><span class="line">        textSize = <span class="number">40f</span></span><br><span class="line">        textAlign = Paint.Align.CENTER</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">val</span> gridSize = <span class="number">9</span></span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">val</span> totalRows = <span class="number">10</span></span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">val</span> cellSize <span class="keyword">get</span>() = width / gridSize.toFloat()</span><br><span class="line"></span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">val</span> initialPositions: MutableMap&lt;Pair&lt;<span class="built_in">Int</span>, <span class="built_in">Int</span>&gt;, String&gt; = mutableMapOf()</span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">var</span> currentPositions: MutableMap&lt;Pair&lt;<span class="built_in">Int</span>, <span class="built_in">Int</span>&gt;, String&gt; = mutableMapOf()</span><br><span class="line"></span><br><span class="line">    <span class="keyword">init</span> &#123;</span><br><span class="line">        <span class="comment">// åˆå§‹åŒ–æ£‹å­ä½ç½®ï¼ˆä»…éƒ¨åˆ†ç¤ºä¾‹ï¼Œå®Œæ•´é˜µå‹éœ€è‡ªè¡Œè¡¥å……ï¼‰</span></span><br><span class="line">        initialPositions[Pair(<span class="number">4</span>, <span class="number">0</span>)] = <span class="string">&quot;å°†&quot;</span></span><br><span class="line">        initialPositions[Pair(<span class="number">4</span>, <span class="number">9</span>)] = <span class="string">&quot;å¸…&quot;</span></span><br><span class="line">        initialPositions[Pair(<span class="number">0</span>, <span class="number">0</span>)] = <span class="string">&quot;è½¦&quot;</span></span><br><span class="line">        initialPositions[Pair(<span class="number">8</span>, <span class="number">0</span>)] = <span class="string">&quot;è½¦&quot;</span></span><br><span class="line">        initialPositions[Pair(<span class="number">0</span>, <span class="number">9</span>)] = <span class="string">&quot;è½¦&quot;</span></span><br><span class="line">        initialPositions[Pair(<span class="number">8</span>, <span class="number">9</span>)] = <span class="string">&quot;è½¦&quot;</span></span><br><span class="line">        <span class="comment">// â€¦å…¶ä½™æ£‹å­ä½ç½®ä¿¡æ¯â€¦</span></span><br><span class="line">        currentPositions.putAll(initialPositions)</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">override</span> <span class="function"><span class="keyword">fun</span> <span class="title">onDraw</span><span class="params">(canvas: <span class="type">Canvas</span>)</span></span> &#123;</span><br><span class="line">        <span class="keyword">super</span>.onDraw(canvas)</span><br><span class="line">        <span class="comment">// ç”»æ£‹ç›˜çº¿</span></span><br><span class="line">        <span class="keyword">for</span> (i <span class="keyword">in</span> <span class="number">0.</span>.gridSize) &#123;</span><br><span class="line">            canvas.drawLine(i * cellSize, <span class="number">0f</span>, i * cellSize, totalRows * cellSize, paint)</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">for</span> (j <span class="keyword">in</span> <span class="number">0.</span>.totalRows) &#123;</span><br><span class="line">            canvas.drawLine(<span class="number">0f</span>, j * cellSize, gridSize * cellSize, j * cellSize, paint)</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="comment">// æ¥šæ²³æ±‰ç•Œæ–‡å­—</span></span><br><span class="line">        canvas.drawText(</span><br><span class="line">            <span class="string">&quot;æ¥š æ²³&quot;</span>,</span><br><span class="line">            <span class="number">2</span> * cellSize,</span><br><span class="line">            <span class="number">5</span> * cellSize - cellSize / <span class="number">4</span>,</span><br><span class="line">            paint</span><br><span class="line">        )</span><br><span class="line">        canvas.drawText(</span><br><span class="line">            <span class="string">&quot;æ±‰ ç•Œ&quot;</span>,</span><br><span class="line">            <span class="number">6</span> * cellSize,</span><br><span class="line">            <span class="number">5</span> * cellSize - cellSize / <span class="number">4</span>,</span><br><span class="line">            paint</span><br><span class="line">        )</span><br><span class="line">        <span class="comment">// ç»˜åˆ¶æ£‹å­</span></span><br><span class="line">        currentPositions.forEach &#123; (pos, label) -&gt;</span><br><span class="line">            <span class="keyword">val</span> cx = pos.first * cellSize + cellSize / <span class="number">2</span></span><br><span class="line">            <span class="keyword">val</span> cy = pos.second * cellSize + cellSize / <span class="number">2</span></span><br><span class="line">            paint.style = Paint.Style.FILL</span><br><span class="line">            paint.color = <span class="keyword">if</span> (pos.second &lt; <span class="number">5</span>) Color.RED <span class="keyword">else</span> Color.BLACK</span><br><span class="line">            canvas.drawCircle(cx, cy, cellSize * <span class="number">0.4f</span>, paint)</span><br><span class="line">            paint.color = Color.WHITE</span><br><span class="line">            canvas.drawText(label, cx, cy + paint.textSize / <span class="number">4</span>, paint)</span><br><span class="line">            paint.style = Paint.Style.STROKE</span><br><span class="line">            paint.color = Color.BLACK</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">override</span> <span class="function"><span class="keyword">fun</span> <span class="title">onTouchEvent</span><span class="params">(event: <span class="type">MotionEvent</span>)</span></span>: <span class="built_in">Boolean</span> &#123;</span><br><span class="line">        <span class="keyword">if</span> (event.action == MotionEvent.ACTION_DOWN) &#123;</span><br><span class="line">            <span class="keyword">val</span> col = (event.x / cellSize).toInt()</span><br><span class="line">            <span class="keyword">val</span> row = (event.y / cellSize).toInt()</span><br><span class="line">            <span class="comment">// ç‚¹å‡»æ£‹å­åæš‚ä¸å®ç°ç§»åŠ¨ï¼Œåªæ‰“å°åæ ‡ç¤ºä¾‹</span></span><br><span class="line">            <span class="keyword">if</span> (currentPositions.containsKey(Pair(col, row))) &#123;</span><br><span class="line">                <span class="comment">// <span class="doctag">TODO:</span> å®ç°æ£‹å­é€‰ä¸­ä¸ç§»åŠ¨é€»è¾‘</span></span><br><span class="line">                println(<span class="string">&quot;ç‚¹å‡»äº†æ£‹å­ï¼š(<span class="variable">$col</span>, <span class="variable">$row</span>)  <span class="subst">$&#123;currentPositions[Pair(col, row)]&#125;</span>&quot;</span>)</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> <span class="literal">true</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="meta">@Composable</span></span><br><span class="line"><span class="function"><span class="keyword">fun</span> <span class="title">ChessScreen</span><span class="params">(navController: <span class="type">NavController</span>)</span></span> &#123;</span><br><span class="line">    Scaffold(</span><br><span class="line">        topBar = &#123;</span><br><span class="line">            TopAppBar(</span><br><span class="line">                title = &#123; Text(<span class="string">&quot;ä¸­å›½è±¡æ£‹&quot;</span>) &#125;,</span><br><span class="line">                navigationIcon = &#123;</span><br><span class="line">                    Image(</span><br><span class="line">                        painter = painterResource(id = R.drawable.ic_back),</span><br><span class="line">                        contentDescription = <span class="string">&quot;Back&quot;</span>,</span><br><span class="line">                        modifier = Modifier</span><br><span class="line">                            .padding(<span class="number">8.</span>dp)</span><br><span class="line">                            .clickable &#123; navController.popBackStack() &#125;</span><br><span class="line">                    )</span><br><span class="line">                &#125;,</span><br><span class="line">                colors = TopAppBarDefaults.topAppBarColors(</span><br><span class="line">                    containerColor = MaterialTheme.colorScheme.primary</span><br><span class="line">                ),</span><br><span class="line">                actions = &#123;</span><br><span class="line">                    TextButton(onClick = &#123; <span class="comment">/* é‡ç½®é€»è¾‘ï¼Œå¯æ¸…ç©º currentPositions å¹¶ restore initialPositions */</span> &#125;) &#123;</span><br><span class="line">                        Text(<span class="string">&quot;é‡ç½®&quot;</span>, color = Color.White)</span><br><span class="line">                    &#125;</span><br><span class="line">                &#125;</span><br><span class="line">            )</span><br><span class="line">        &#125;</span><br><span class="line">    ) &#123; paddingValues -&gt;</span><br><span class="line">        Box(modifier = Modifier.fillMaxSize()) &#123;</span><br><span class="line">            AndroidView(</span><br><span class="line">                factory = &#123; context -&gt; ChessBoardView(context) &#125;,</span><br><span class="line">                modifier = Modifier.fillMaxSize()</span><br><span class="line">            )</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<hr>
<h3 id="GoGameScreen-kt"><a href="#GoGameScreen-kt" class="headerlink" title="GoGameScreen.kt"></a>GoGameScreen.kt</h3><figure class="highlight kotlin"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> com.example.myelderlyapp</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> androidx.compose.foundation.Canvas</span><br><span class="line"><span class="keyword">import</span> androidx.compose.foundation.clickable</span><br><span class="line"><span class="keyword">import</span> androidx.compose.foundation.layout.*</span><br><span class="line"><span class="keyword">import</span> androidx.compose.material3.*</span><br><span class="line"><span class="keyword">import</span> androidx.compose.runtime.*</span><br><span class="line"><span class="keyword">import</span> androidx.compose.ui.Modifier</span><br><span class="line"><span class="keyword">import</span> androidx.compose.ui.geometry.Offset</span><br><span class="line"><span class="keyword">import</span> androidx.compose.ui.graphics.Color</span><br><span class="line"><span class="keyword">import</span> androidx.compose.ui.input.pointer.pointerInput</span><br><span class="line"><span class="keyword">import</span> androidx.compose.ui.unit.dp</span><br><span class="line"><span class="keyword">import</span> androidx.compose.ui.unit.sp</span><br><span class="line"><span class="keyword">import</span> androidx.navigation.NavController</span><br><span class="line"></span><br><span class="line"><span class="keyword">data</span> <span class="keyword">class</span> <span class="title class_">GoPoint</span>(<span class="keyword">val</span> x: <span class="built_in">Int</span>, <span class="keyword">val</span> y: <span class="built_in">Int</span>)</span><br><span class="line"></span><br><span class="line"><span class="meta">@Composable</span></span><br><span class="line"><span class="function"><span class="keyword">fun</span> <span class="title">GoGameScreen</span><span class="params">(navController: <span class="type">NavController</span>)</span></span> &#123;</span><br><span class="line">    <span class="keyword">var</span> stonePositions <span class="keyword">by</span> remember &#123; mutableStateOf(mutableListOf&lt;Pair&lt;GoPoint, <span class="built_in">Boolean</span>&gt;&gt;()) &#125;</span><br><span class="line">    <span class="keyword">var</span> isBlackTurn <span class="keyword">by</span> remember &#123; mutableStateOf(<span class="literal">true</span>) &#125;</span><br><span class="line">    <span class="keyword">var</span> koPoint <span class="keyword">by</span> remember &#123; mutableStateOf&lt;GoPoint?&gt;(<span class="literal">null</span>) &#125;</span><br><span class="line">    <span class="keyword">var</span> winner <span class="keyword">by</span> remember &#123; mutableStateOf&lt;String?&gt;(<span class="literal">null</span>) &#125;</span><br><span class="line">    <span class="keyword">val</span> moveHistory = remember &#123; mutableStateListOf&lt;Pair&lt;GoPoint, <span class="built_in">Boolean</span>&gt;&gt;() &#125;</span><br><span class="line"></span><br><span class="line">    Column(</span><br><span class="line">        modifier = Modifier.fillMaxSize(),</span><br><span class="line">        verticalArrangement = Arrangement.Top,</span><br><span class="line">        horizontalAlignment = Alignment.CenterHorizontally</span><br><span class="line">    ) &#123;</span><br><span class="line">        Text(</span><br><span class="line">            text = <span class="string">&quot;å›´æ£‹&quot;</span>,</span><br><span class="line">            fontSize = <span class="number">24.</span>sp,</span><br><span class="line">            modifier = Modifier.padding(vertical = <span class="number">16.</span>dp)</span><br><span class="line">        )</span><br><span class="line">        <span class="keyword">if</span> (winner != <span class="literal">null</span>) &#123;</span><br><span class="line">            Text(</span><br><span class="line">                text = <span class="string">&quot;<span class="variable">$winner</span> è·èƒœï¼&quot;</span>,</span><br><span class="line">                fontSize = <span class="number">20.</span>sp,</span><br><span class="line">                color = <span class="keyword">if</span> (winner == <span class="string">&quot;é»‘æ–¹&quot;</span>) Color.Black <span class="keyword">else</span> Color.White,</span><br><span class="line">                modifier = Modifier.padding(vertical = <span class="number">4.</span>dp)</span><br><span class="line">            )</span><br><span class="line">        &#125;</span><br><span class="line">        Box(</span><br><span class="line">            modifier = Modifier</span><br><span class="line">                .padding(<span class="number">16.</span>dp)</span><br><span class="line">                .size(<span class="number">340.</span>dp)</span><br><span class="line">                .background(Color(<span class="number">0xFFF0D9B5</span>))</span><br><span class="line">                .pointerInput(<span class="built_in">Unit</span>) &#123;</span><br><span class="line">                    detectTapGestures &#123; offset -&gt;</span><br><span class="line">                        <span class="keyword">if</span> (winner != <span class="literal">null</span>) <span class="keyword">return</span><span class="symbol">@detectTapGestures</span></span><br><span class="line">                        <span class="keyword">val</span> cellSize = <span class="number">340f</span> / <span class="number">19f</span></span><br><span class="line">                        <span class="keyword">val</span> x = (offset.x / cellSize).toInt()</span><br><span class="line">                        <span class="keyword">val</span> y = (offset.y / cellSize).toInt()</span><br><span class="line">                        <span class="keyword">val</span> point = GoPoint(x, y)</span><br><span class="line">                        <span class="comment">// è½å­ä½ç½®åˆæ³•æ€§ï¼šæ— å­ä¸”ä¸ä¸ KO ç‚¹å†²çª</span></span><br><span class="line">                        <span class="keyword">if</span> (stonePositions.any &#123; it.first == point &#125; || (koPoint != <span class="literal">null</span> &amp;&amp; point == koPoint)) <span class="keyword">return</span><span class="symbol">@detectTapGestures</span></span><br><span class="line">                        stonePositions.add(point to isBlackTurn)</span><br><span class="line">                        moveHistory.add(point to isBlackTurn)</span><br><span class="line">                        <span class="comment">// ç®€æ˜“æå­ &amp; KO åˆ¤å®šç•¥å»ï¼Œä»…æ¼”ç¤º</span></span><br><span class="line">                        isBlackTurn = !isBlackTurn</span><br><span class="line">                    &#125;</span><br><span class="line">                &#125;</span><br><span class="line">        ) &#123;</span><br><span class="line">            Canvas(modifier = Modifier.matchParentSize()) &#123;</span><br><span class="line">                <span class="keyword">val</span> cellSize = size.width / <span class="number">19f</span></span><br><span class="line">                <span class="comment">// ç»˜åˆ¶æ£‹ç›˜ç½‘æ ¼</span></span><br><span class="line">                <span class="keyword">for</span> (i <span class="keyword">in</span> <span class="number">0.</span><span class="number">.18</span>) &#123;</span><br><span class="line">                    drawLine(</span><br><span class="line">                        color = Color.Black,</span><br><span class="line">                        start = Offset(i * cellSize, <span class="number">0f</span>),</span><br><span class="line">                        end = Offset(i * cellSize, size.height)</span><br><span class="line">                    )</span><br><span class="line">                    drawLine(</span><br><span class="line">                        color = Color.Black,</span><br><span class="line">                        start = Offset(<span class="number">0f</span>, i * cellSize),</span><br><span class="line">                        end = Offset(size.width, i * cellSize)</span><br><span class="line">                    )</span><br><span class="line">                &#125;</span><br><span class="line">                <span class="comment">// æ˜Ÿä½ï¼ˆä¹ä¸ªæ˜Ÿç‚¹ï¼‰</span></span><br><span class="line">                <span class="keyword">val</span> stars = listOf(<span class="number">3</span>, <span class="number">9</span>, <span class="number">15</span>)</span><br><span class="line">                stars.forEach &#123; sx -&gt;</span><br><span class="line">                    stars.forEach &#123; sy -&gt;</span><br><span class="line">                        drawCircle(</span><br><span class="line">                            color = Color.Black,</span><br><span class="line">                            radius = <span class="number">5f</span>,</span><br><span class="line">                            center = Offset(sx * cellSize, sy * cellSize)</span><br><span class="line">                        )</span><br><span class="line">                    &#125;</span><br><span class="line">                &#125;</span><br><span class="line">                <span class="comment">// ç»˜åˆ¶æ£‹å­</span></span><br><span class="line">                stonePositions.forEach &#123; (pt, isBlack) -&gt;</span><br><span class="line">                    drawCircle(</span><br><span class="line">                        color = <span class="keyword">if</span> (isBlack) Color.Black <span class="keyword">else</span> Color.White,</span><br><span class="line">                        radius = cellSize * <span class="number">0.45f</span>,</span><br><span class="line">                        center = Offset(pt.x * cellSize, pt.y * cellSize)</span><br><span class="line">                    )</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        Spacer(modifier = Modifier.height(<span class="number">16.</span>dp))</span><br><span class="line">        Row(horizontalArrangement = Arrangement.spacedBy(<span class="number">16.</span>dp)) &#123;</span><br><span class="line">            Button(onClick = &#123;</span><br><span class="line">                <span class="comment">// æ‚”æ£‹ï¼šç§»é™¤æœ€åä¸€æ­¥</span></span><br><span class="line">                <span class="keyword">if</span> (moveHistory.isNotEmpty()) &#123;</span><br><span class="line">                    <span class="keyword">val</span> last = moveHistory.removeAt(moveHistory.size - <span class="number">1</span>)</span><br><span class="line">                    stonePositions.remove(last)</span><br><span class="line">                    isBlackTurn = last.second</span><br><span class="line">                    <span class="comment">// ç®€æ˜“ KO æ¢å¤ç•¥å»</span></span><br><span class="line">                &#125;</span><br><span class="line">            &#125;) &#123;</span><br><span class="line">                Text(<span class="string">&quot;æ‚”æ£‹&quot;</span>)</span><br><span class="line">            &#125;</span><br><span class="line">            Button(onClick = &#123;</span><br><span class="line">                <span class="comment">// é‡ç½®æ£‹å±€</span></span><br><span class="line">                stonePositions.clear()</span><br><span class="line">                moveHistory.clear()</span><br><span class="line">                isBlackTurn = <span class="literal">true</span></span><br><span class="line">                winner = <span class="literal">null</span></span><br><span class="line">                koPoint = <span class="literal">null</span></span><br><span class="line">            &#125;) &#123;</span><br><span class="line">                Text(<span class="string">&quot;é‡æ–°å¼€å§‹&quot;</span>)</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        Spacer(modifier = Modifier.height(<span class="number">16.</span>dp))</span><br><span class="line">        Text(text = <span class="string">&quot;ç‚¹å‡»æ˜Ÿç‚¹é™„è¿‘è½å­ã€‚å…ˆé»‘åç™½ã€‚ç®€å• Ko åŠ«åˆ¤å®šã€‚&quot;</span>, fontSize = <span class="number">14.</span>sp)</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<hr>
<h3 id="MahjongScreen-kt"><a href="#MahjongScreen-kt" class="headerlink" title="MahjongScreen.kt"></a>MahjongScreen.kt</h3><figure class="highlight kotlin"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br><span class="line">147</span><br><span class="line">148</span><br><span class="line">149</span><br><span class="line">150</span><br><span class="line">151</span><br><span class="line">152</span><br><span class="line">153</span><br><span class="line">154</span><br><span class="line">155</span><br><span class="line">156</span><br><span class="line">157</span><br><span class="line">158</span><br><span class="line">159</span><br><span class="line">160</span><br><span class="line">161</span><br><span class="line">162</span><br><span class="line">163</span><br><span class="line">164</span><br><span class="line">165</span><br><span class="line">166</span><br><span class="line">167</span><br><span class="line">168</span><br><span class="line">169</span><br><span class="line">170</span><br><span class="line">171</span><br><span class="line">172</span><br><span class="line">173</span><br><span class="line">174</span><br><span class="line">175</span><br><span class="line">176</span><br><span class="line">177</span><br><span class="line">178</span><br><span class="line">179</span><br><span class="line">180</span><br><span class="line">181</span><br><span class="line">182</span><br><span class="line">183</span><br><span class="line">184</span><br><span class="line">185</span><br><span class="line">186</span><br><span class="line">187</span><br><span class="line">188</span><br><span class="line">189</span><br><span class="line">190</span><br><span class="line">191</span><br><span class="line">192</span><br><span class="line">193</span><br><span class="line">194</span><br><span class="line">195</span><br><span class="line">196</span><br><span class="line">197</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> com.example.myelderlyapp</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> android.app.Activity</span><br><span class="line"><span class="keyword">import</span> android.content.pm.ActivityInfo</span><br><span class="line"><span class="keyword">import</span> androidx.compose.foundation.Canvas</span><br><span class="line"><span class="keyword">import</span> androidx.compose.foundation.background</span><br><span class="line"><span class="keyword">import</span> androidx.compose.foundation.clickable</span><br><span class="line"><span class="keyword">import</span> androidx.compose.foundation.layout.*</span><br><span class="line"><span class="keyword">import</span> androidx.compose.foundation.shape.RoundedCornerShape</span><br><span class="line"><span class="keyword">import</span> androidx.compose.material3.*</span><br><span class="line"><span class="keyword">import</span> androidx.compose.runtime.*</span><br><span class="line"><span class="keyword">import</span> androidx.compose.ui.Alignment</span><br><span class="line"><span class="keyword">import</span> androidx.compose.ui.Modifier</span><br><span class="line"><span class="keyword">import</span> androidx.compose.ui.graphics.Color</span><br><span class="line"><span class="keyword">import</span> androidx.compose.ui.platform.LocalView</span><br><span class="line"><span class="keyword">import</span> androidx.compose.ui.text.font.FontWeight</span><br><span class="line"><span class="keyword">import</span> androidx.compose.ui.unit.dp</span><br><span class="line"><span class="keyword">import</span> androidx.compose.ui.unit.sp</span><br><span class="line"><span class="keyword">import</span> androidx.navigation.NavController</span><br><span class="line"></span><br><span class="line"><span class="keyword">data</span> <span class="keyword">class</span> <span class="title class_">Tile</span>(<span class="keyword">val</span> emoji: String)</span><br><span class="line"></span><br><span class="line"><span class="meta">@Composable</span></span><br><span class="line"><span class="function"><span class="keyword">fun</span> <span class="title">MahjongScreen</span><span class="params">(navController: <span class="type">NavController</span>)</span></span> &#123;</span><br><span class="line">    <span class="comment">// å¼ºåˆ¶æ¨ªå±</span></span><br><span class="line">    DisposableEffect(<span class="built_in">Unit</span>) &#123;</span><br><span class="line">        <span class="keyword">val</span> activity = (LocalView.current.context <span class="keyword">as</span> Activity)</span><br><span class="line">        activity.requestedOrientation = ActivityInfo.SCREEN_ORIENTATION_LANDSCAPE</span><br><span class="line">        onDispose &#123; activity.requestedOrientation = ActivityInfo.SCREEN_ORIENTATION_SENSOR &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// æ¨¡æ‹Ÿå››å®¶æ‰‹ç‰Œ</span></span><br><span class="line">    <span class="keyword">val</span> bottomHand = remember &#123; mutableStateListOf&lt;Tile&gt;() &#125;</span><br><span class="line">    <span class="keyword">val</span> topHand = remember &#123; mutableStateListOf&lt;Tile&gt;() &#125;</span><br><span class="line">    <span class="keyword">val</span> leftHand = remember &#123; mutableStateListOf&lt;Tile&gt;() &#125;</span><br><span class="line">    <span class="keyword">val</span> rightHand = remember &#123; mutableStateListOf&lt;Tile&gt;() &#125;</span><br><span class="line">    <span class="keyword">val</span> centerDiscard = remember &#123; mutableStateListOf&lt;Tile&gt;() &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// åˆå§‹åŒ–â€”â€”è¿™é‡Œåªæ”¾å°‘é‡ç¤ºä¾‹ç‰Œ</span></span><br><span class="line">    LaunchedEffect(<span class="built_in">Unit</span>) &#123;</span><br><span class="line">        bottomHand.addAll(listOf(Tile(<span class="string">&quot;ğŸ€‡&quot;</span>), Tile(<span class="string">&quot;ğŸ€ˆ&quot;</span>), Tile(<span class="string">&quot;ğŸ€‰&quot;</span>), Tile(<span class="string">&quot;ğŸ€Š&quot;</span>), Tile(<span class="string">&quot;ğŸ€‹&quot;</span>)))</span><br><span class="line">        topHand.addAll(listOf(Tile(<span class="string">&quot;ğŸ€‡&quot;</span>), Tile(<span class="string">&quot;ğŸ€ˆ&quot;</span>), Tile(<span class="string">&quot;ğŸ€‰&quot;</span>), Tile(<span class="string">&quot;ğŸ€Š&quot;</span>), Tile(<span class="string">&quot;ğŸ€‹&quot;</span>)))</span><br><span class="line">        leftHand.addAll(listOf(Tile(<span class="string">&quot;ğŸ€‡&quot;</span>), Tile(<span class="string">&quot;ğŸ€ˆ&quot;</span>), Tile(<span class="string">&quot;ğŸ€‰&quot;</span>), Tile(<span class="string">&quot;ğŸ€Š&quot;</span>), Tile(<span class="string">&quot;ğŸ€‹&quot;</span>)))</span><br><span class="line">        rightHand.addAll(listOf(Tile(<span class="string">&quot;ğŸ€‡&quot;</span>), Tile(<span class="string">&quot;ğŸ€ˆ&quot;</span>), Tile(<span class="string">&quot;ğŸ€‰&quot;</span>), Tile(<span class="string">&quot;ğŸ€Š&quot;</span>), Tile(<span class="string">&quot;ğŸ€‹&quot;</span>)))</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    Column(</span><br><span class="line">        modifier = Modifier</span><br><span class="line">            .fillMaxSize()</span><br><span class="line">            .background(Color(<span class="number">0xFF00704A</span>))</span><br><span class="line">    ) &#123;</span><br><span class="line">        <span class="comment">// é¡¶éƒ¨ï¼šä¸Šå®¶æ‰‹ç‰Œï¼ˆå€’ç½®ï¼‰</span></span><br><span class="line">        Row(</span><br><span class="line">            modifier = Modifier</span><br><span class="line">                .fillMaxWidth()</span><br><span class="line">                .height(<span class="number">60.</span>dp),</span><br><span class="line">            horizontalArrangement = Arrangement.Center,</span><br><span class="line">            verticalAlignment = Alignment.CenterVertically</span><br><span class="line">        ) &#123;</span><br><span class="line">            topHand.reversed().forEach &#123; tile -&gt;</span><br><span class="line">                Text(</span><br><span class="line">                    text = <span class="string">&quot;ğŸ€«&quot;</span>, <span class="comment">// ç‰ŒèƒŒï¼Œå€’ç½®æ˜¾ç¤º</span></span><br><span class="line">                    fontSize = <span class="number">24.</span>sp,</span><br><span class="line">                    modifier = Modifier.padding(horizontal = <span class="number">4.</span>dp)</span><br><span class="line">                )</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="comment">// ä¸­å¤®ï¼šå·¦å®¶æ‰‹ç‰Œ + å‡ºç‰ŒåŒº + å³å®¶æ‰‹ç‰Œ</span></span><br><span class="line">        Row(</span><br><span class="line">            modifier = Modifier</span><br><span class="line">                .fillMaxWidth()</span><br><span class="line">                .weight(<span class="number">1f</span>),</span><br><span class="line">            verticalAlignment = Alignment.CenterVertically</span><br><span class="line">        ) &#123;</span><br><span class="line">            <span class="comment">// å·¦å®¶æ‰‹ç‰Œï¼ˆç«–æ’ï¼‰</span></span><br><span class="line">            Column(</span><br><span class="line">                modifier = Modifier</span><br><span class="line">                    .width(<span class="number">40.</span>dp)</span><br><span class="line">                    .fillMaxHeight(),</span><br><span class="line">                verticalArrangement = Arrangement.SpaceEvenly,</span><br><span class="line">                horizontalAlignment = Alignment.CenterHorizontally</span><br><span class="line">            ) &#123;</span><br><span class="line">                leftHand.forEach &#123; tile -&gt;</span><br><span class="line">                    Text(text = <span class="string">&quot;ğŸ€«&quot;</span>, fontSize = <span class="number">24.</span>sp)</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line"></span><br><span class="line">            <span class="comment">// å‡ºç‰ŒåŒº</span></span><br><span class="line">            Box(</span><br><span class="line">                modifier = Modifier</span><br><span class="line">                    .weight(<span class="number">1f</span>)</span><br><span class="line">                    .fillMaxHeight()</span><br><span class="line">                    .background(Color(<span class="number">0xFF004D3B</span>)),</span><br><span class="line">                contentAlignment = Alignment.Center</span><br><span class="line">            ) &#123;</span><br><span class="line">                <span class="keyword">if</span> (centerDiscard.isEmpty()) &#123;</span><br><span class="line">                    Text(text = <span class="string">&quot;ç­‰å¾…å‡ºç‰Œ&quot;</span>, fontSize = <span class="number">20.</span>sp, color = Color.White)</span><br><span class="line">                &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">                    Text(text = centerDiscard.last().emoji, fontSize = <span class="number">32.</span>sp)</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line"></span><br><span class="line">            <span class="comment">// å³å®¶æ‰‹ç‰Œï¼ˆç«–æ’ï¼Œå€’ç½®æ˜¾ç¤ºï¼‰</span></span><br><span class="line">            Column(</span><br><span class="line">                modifier = Modifier</span><br><span class="line">                    .width(<span class="number">40.</span>dp)</span><br><span class="line">                    .fillMaxHeight(),</span><br><span class="line">                verticalArrangement = Arrangement.SpaceEvenly,</span><br><span class="line">                horizontalAlignment = Alignment.CenterHorizontally</span><br><span class="line">            ) &#123;</span><br><span class="line">                rightHand.reversed().forEach &#123; tile -&gt;</span><br><span class="line">                    Text(text = <span class="string">&quot;ğŸ€«&quot;</span>, fontSize = <span class="number">24.</span>sp)</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="comment">// åº•éƒ¨ï¼šç©å®¶æ‰‹ç‰Œ + æ“ä½œæŒ‰é’®</span></span><br><span class="line">        Column(</span><br><span class="line">            modifier = Modifier</span><br><span class="line">                .fillMaxWidth()</span><br><span class="line">                .height(<span class="number">120.</span>dp)</span><br><span class="line">                .background(Color(<span class="number">0xFF004D3B</span>))</span><br><span class="line">                .padding(<span class="number">8.</span>dp),</span><br><span class="line">            verticalArrangement = Arrangement.SpaceBetween</span><br><span class="line">        ) &#123;</span><br><span class="line">            <span class="comment">// ç©å®¶æ‰‹ç‰Œ</span></span><br><span class="line">            Row(</span><br><span class="line">                modifier = Modifier</span><br><span class="line">                    .fillMaxWidth()</span><br><span class="line">                    .height(<span class="number">60.</span>dp),</span><br><span class="line">                horizontalArrangement = Arrangement.Center,</span><br><span class="line">                verticalAlignment = Alignment.CenterVertically</span><br><span class="line">            ) &#123;</span><br><span class="line">                bottomHand.forEach &#123; tile -&gt;</span><br><span class="line">                    Text(</span><br><span class="line">                        text = tile.emoji,</span><br><span class="line">                        fontSize = <span class="number">32.</span>sp,</span><br><span class="line">                        modifier = Modifier.padding(horizontal = <span class="number">4.</span>dp)</span><br><span class="line">                    )</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line"></span><br><span class="line">            <span class="comment">// æ“ä½œæŒ‰é’®</span></span><br><span class="line">            Row(</span><br><span class="line">                modifier = Modifier</span><br><span class="line">                    .fillMaxWidth()</span><br><span class="line">                    .height(<span class="number">40.</span>dp),</span><br><span class="line">                horizontalArrangement = Arrangement.SpaceEvenly,</span><br><span class="line">                verticalAlignment = Alignment.CenterVertically</span><br><span class="line">            ) &#123;</span><br><span class="line">                Button(</span><br><span class="line">                    onClick = &#123;</span><br><span class="line">                        <span class="comment">// ç¢°ç¤ºä¾‹ï¼šå°†ç©å®¶æœ€åä¸€å¼ ç‰Œå‡ºåˆ°å¼ƒç‰ŒåŒº</span></span><br><span class="line">                        <span class="keyword">if</span> (bottomHand.isNotEmpty()) &#123;</span><br><span class="line">                            <span class="keyword">val</span> tile = bottomHand.removeLast()</span><br><span class="line">                            centerDiscard.add(tile)</span><br><span class="line">                        &#125;</span><br><span class="line">                    &#125;,</span><br><span class="line">                    colors = ButtonDefaults.buttonColors(containerColor = MaterialTheme.colorScheme.secondary),</span><br><span class="line">                    shape = RoundedCornerShape(<span class="number">20.</span>dp),</span><br><span class="line">                    modifier = Modifier.weight(<span class="number">1f</span>)</span><br><span class="line">                ) &#123;</span><br><span class="line">                    Text(<span class="string">&quot;ç¢°&quot;</span>, color = Color.White)</span><br><span class="line">                &#125;</span><br><span class="line">                Button(</span><br><span class="line">                    onClick = &#123;</span><br><span class="line">                        <span class="comment">// æ ç¤ºä¾‹</span></span><br><span class="line">                        <span class="keyword">if</span> (bottomHand.isNotEmpty()) &#123;</span><br><span class="line">                            <span class="keyword">val</span> tile = bottomHand.removeLast()</span><br><span class="line">                            centerDiscard.add(tile)</span><br><span class="line">                        &#125;</span><br><span class="line">                    &#125;,</span><br><span class="line">                    colors = ButtonDefaults.buttonColors(containerColor = MaterialTheme.colorScheme.secondary),</span><br><span class="line">                    shape = RoundedCornerShape(<span class="number">20.</span>dp),</span><br><span class="line">                    modifier = Modifier.weight(<span class="number">1f</span>)</span><br><span class="line">                ) &#123;</span><br><span class="line">                    Text(<span class="string">&quot;æ &quot;</span>, color = Color.White)</span><br><span class="line">                &#125;</span><br><span class="line">                Button(</span><br><span class="line">                    onClick = &#123;</span><br><span class="line">                        <span class="comment">// èƒ¡ç¤ºä¾‹</span></span><br><span class="line">                        <span class="keyword">if</span> (bottomHand.isNotEmpty()) &#123;</span><br><span class="line">                            <span class="keyword">val</span> tile = bottomHand.removeLast()</span><br><span class="line">                            centerDiscard.add(tile)</span><br><span class="line">                        &#125;</span><br><span class="line">                    &#125;,</span><br><span class="line">                    colors = ButtonDefaults.buttonColors(containerColor = MaterialTheme.colorScheme.secondary),</span><br><span class="line">                    shape = RoundedCornerShape(<span class="number">20.</span>dp),</span><br><span class="line">                    modifier = Modifier.weight(<span class="number">1f</span>)</span><br><span class="line">                ) &#123;</span><br><span class="line">                    Text(<span class="string">&quot;èƒ¡&quot;</span>, color = Color.White)</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<hr>
<h2 id="å¯æ”¹è¿›ä¸æœªæ¥å±•æœ›"><a href="#å¯æ”¹è¿›ä¸æœªæ¥å±•æœ›" class="headerlink" title="å¯æ”¹è¿›ä¸æœªæ¥å±•æœ›"></a>å¯æ”¹è¿›ä¸æœªæ¥å±•æœ›</h2><ol>
<li><p><strong>æ•°æ®æŒä¹…åŒ–</strong></p>
<ul>
<li>å½“å‰æ‰€æœ‰æ¸¸æˆä¸ç”¨æˆ·æ“ä½œå‡ä¸ºå†…å­˜çŠ¶æ€ï¼Œåº”ç”¨é‡å¯åä¼šä¸¢å¤±ã€‚</li>
<li>åç»­å¯å¼•å…¥ <strong>Room Database</strong>ï¼Œå°†ç”¨æˆ·å¯¹å±€ã€å¥åº·è®°å½•ã€ç”¨è¯æé†’ç­‰æŒä¹…åŒ–åˆ°æœ¬åœ°ã€‚</li>
</ul>
</li>
<li><p><strong>AI å¯¹å¼ˆ</strong></p>
<ul>
<li>ä¸ºäº”å­æ£‹ã€è±¡æ£‹ã€å›´æ£‹ç¼–å†™ç®€å• AIï¼Œå¯ä»¥é‡‡ç”¨ Minimaxã€Alpha-Beta å‰ªæã€Monte-Carlo Tree Search ç­‰ç®—æ³•ï¼Œå®ç°å•æœºå¯¹æˆ˜ã€‚</li>
</ul>
</li>
<li><p><strong>å¥åº·æ¨¡å—ä¸ç¬¬ä¸‰æ–¹æœåŠ¡å¯¹æ¥</strong></p>
<ul>
<li>é›†æˆçœŸå®åŒ»é™¢æŒ‚å· APIï¼ˆå¦‚å›½å®¶ã€çœå¸‚åŒ»é™¢ç»Ÿä¸€æŒ‚å·å¹³å°ï¼‰ã€åœ¨çº¿é—®è¯Šæ¥å£ã€‚</li>
<li>ç”¨ <strong>WorkManager</strong> åšæœ¬åœ°ç”¨è¯æé†’ï¼Œç»“åˆ Room æ•°æ®åº“å­˜å‚¨æé†’è®°å½•ï¼Œå¹¶æ”¯æŒå‰å°é€šçŸ¥ã€‚</li>
</ul>
</li>
<li><p><strong>æ— éšœç¢ä¸ä¸­è€å¹´ä¼˜åŒ–</strong></p>
<ul>
<li>æ”¯æŒåŠ¨æ€å­—ä½“ï¼šåœ¨ <code>MaterialTheme</code> ä¸­å…è®¸ç”¨æˆ·æ ¹æ®ç³»ç»Ÿå­—ä½“å¤§å°è‡ªåŠ¨ç¼©æ”¾</li>
<li>æ·»åŠ  <strong>TalkBack</strong> æè¿°ï¼šä¸ºæŒ‰é’®ã€Imageã€Canvas ç­‰ UI å…ƒç´ æ·»åŠ æ— éšœç¢æ ‡ç­¾</li>
<li>å¢åŠ é«˜å¯¹æ¯”åº¦æ¨¡å¼åˆ‡æ¢ï¼Œä»¥ä¾¿è‰²ç›² &#x2F; è§†åŠ›ä½ä¸‹ç”¨æˆ·ä½¿ç”¨</li>
</ul>
</li>
<li><p><strong>UI&#x2F;ä»£ç å¤ç”¨</strong></p>
<ul>
<li>å°†å¸¸è§çš„åœ†å½¢æŒ‰é’®ã€å¡ç‰‡ç»„ä»¶æç‚¼ä¸º <code>ElderlyButton</code>ã€<code>FeatureCard</code> ç­‰å¯å¤ç”¨ç»„ä»¶</li>
<li>æ¯ä¸ªæ¸¸æˆæ¨¡å—çš„é‡ç½®ã€æ‚”æ£‹ã€èƒœåˆ©æç¤ºç­‰é€»è¾‘å¯ç»Ÿä¸€æŠ½è±¡å‡ºåŸºç±»å‡½æ•°</li>
</ul>
</li>
<li><p><strong>ç‰ˆæœ¬ä¸æµ‹è¯•è¦†ç›–</strong></p>
<ul>
<li>ä½¿ç”¨ <strong>Compose UI Test</strong> ç¼–å†™ç•Œé¢æµ‹è¯•ï¼ŒéªŒè¯ç™»å½•æµç¨‹ã€å¯¼èˆªæ­£ç¡®æ€§ã€æ¸¸æˆèƒœè´Ÿåˆ¤å®šç­‰å…³é”®é€»è¾‘</li>
<li>ä½¿ç”¨ <strong>JUnit 5</strong> å®Œæˆå•å…ƒæµ‹è¯•ï¼Œé’ˆå¯¹ <code>checkWin()</code>ã€æ£‹å­åˆæ³•è½å­å‡½æ•°ç­‰æ ¸å¿ƒç®—æ³•åšå……åˆ†éªŒè¯</li>
</ul>
</li>
</ol>
<hr>
<h2 id="ç»“è¯­"><a href="#ç»“è¯­" class="headerlink" title="ç»“è¯­"></a>ç»“è¯­</h2><p>â€œ<strong>MyElderlyApp</strong>â€ é¡¹ç›®æ—¨åœ¨ä¸ºä¸­è€å¹´ç”¨æˆ·æä¾›ä¸€ä¸ªç®€å•æ˜“ç”¨ã€åŠŸèƒ½å…¨é¢çš„ç§»åŠ¨åº”ç”¨ç¤ºä¾‹ï¼Œä»ç™»å½•è®¤è¯åˆ°å¤šæ¨¡å—é›†æˆï¼Œä»é¡µé¢å¸ƒå±€åˆ°è‡ªå®šä¹‰ Canvasã€ä» Firebase Auth åˆ°åç»­å¯æ‰©å±•çš„ Room æ•°æ®åº“ï¼Œæ¶µç›–äº†å®Œæ•´çš„ç§»åŠ¨ç«¯å¼€å‘æµç¨‹ã€‚</p>
<ul>
<li><p><strong>é¡¹ç›®æ”¶è·</strong>ï¼š</p>
<ol>
<li>æ·±å…¥ç†è§£ Jetpack Compose å¤šè·¯ç”±å¯¼èˆªä¸çŠ¶æ€ç®¡ç†ï¼›</li>
<li>æŒæ¡ Canvas è‡ªç»˜ä¸åŸç”Ÿ View åµŒå…¥çš„åŒºåˆ«ä¸å®è·µï¼›</li>
<li>ç†Ÿæ‚‰ Firebase Auth ä½¿ç”¨ä¸ Compose é…åˆï¼›</li>
<li>æå‡äº†é¢å‘ä¸­è€å¹´ç¾¤ä½“çš„ UI&#x2F;UX è®¾è®¡æ€è·¯ã€‚</li>
</ol>
</li>
<li><p><strong>æœªæ¥æŒ‘æˆ˜</strong>ï¼š</p>
<ol>
<li>å¦‚ä½•åœ¨ä¿è¯ä¸­è€å¹´ç”¨æˆ·å¯ç”¨æ€§çš„å‰æä¸‹ï¼Œç»§ç»­ä¸°å¯ŒåŠŸèƒ½æ¨¡å—ï¼ˆå¦‚å¥åº·æ•°æ®å¯è§†åŒ–ã€AI å¯¹å¼ˆï¼‰ï¼›</li>
<li>å¦‚ä½•åœ¨å®é™…äº§å“ä¸­åšåˆ°çº¿ä¸Šçº¿ä¸‹æ•°æ®åŒæ­¥ï¼Œæä¾›æ›´å®Œå–„çš„å¥åº·ä¸æœåŠ¡ç”Ÿæ€ï¼›</li>
<li>å¦‚ä½•æŒç»­ç»´æŠ¤ä¸æµ‹è¯•ï¼Œä¿è¯é¡¹ç›®è´¨é‡ï¼Œå¹¶æ ¹æ®ç”¨æˆ·åé¦ˆä¸æ–­è¿­ä»£ã€‚</li>
</ol>
</li>
</ul>
<p>å¸Œæœ›æœ¬æ–‡åŠé™„å¸¦å®Œæ•´æºç å¯¹æ‚¨åœ¨ç§»åŠ¨ç«¯å¼€å‘ã€æ¸¸æˆé€»è¾‘å®ç°åŠä¸­è€å¹´åº”ç”¨è®¾è®¡æ–¹é¢æœ‰æ‰€å¸®åŠ©ã€‚æ¬¢è¿åœ¨è¯„è®ºåŒºè®¨è®ºã€ç»™å‡ºå»ºè®®æˆ–æŒ‡å‡ºé—®é¢˜ã€‚ç¥æ‚¨å¼€å‘é¡ºåˆ©ï¼</p>
<hr>
<blockquote>
<p><strong>ä¸‹è½½é“¾æ¥</strong></p>
<ul>
<li><a target="_blank" rel="noopener" href="https://github.com/huppee/myelderlyapp">é¡¹ç›®å®Œæ•´ä»£ç ï¼ˆGitHub ä»“åº“ï¼‰</a></li>
<li>å¦‚æœéœ€è¦è¿›ä¸€æ­¥é›†æˆ Firebaseã€Room ç­‰ï¼Œå¯å‚è€ƒä»“åº“ä¸­çš„ <code>README.md</code> è¿›è¡Œé…ç½®ã€‚</li>
</ul>
</blockquote>
</article><div class="post-copyright"><div class="post-copyright__author"><span class="post-copyright-meta"><i class="fas fa-circle-user fa-fw"></i>æ–‡ç« ä½œè€…: </span><span class="post-copyright-info"><a href="https://huppee.github.io/huppe.github.io">huppe</a></span></div><div class="post-copyright__type"><span class="post-copyright-meta"><i class="fas fa-square-arrow-up-right fa-fw"></i>æ–‡ç« é“¾æ¥: </span><span class="post-copyright-info"><a href="https://huppee.github.io/huppe.github.io/2025/06/03/%E7%A8%8B%E5%BA%8F%E8%AE%BE%E8%AE%A1%E5%B0%8F%E4%BD%9C%E4%B8%9A/">https://huppee.github.io/huppe.github.io/2025/06/03/%E7%A8%8B%E5%BA%8F%E8%AE%BE%E8%AE%A1%E5%B0%8F%E4%BD%9C%E4%B8%9A/</a></span></div><div class="post-copyright__notice"><span class="post-copyright-meta"><i class="fas fa-circle-exclamation fa-fw"></i>ç‰ˆæƒå£°æ˜: </span><span class="post-copyright-info">æœ¬åšå®¢æ‰€æœ‰æ–‡ç« é™¤ç‰¹åˆ«å£°æ˜å¤–ï¼Œå‡é‡‡ç”¨ <a href="https://creativecommons.org/licenses/by-nc-sa/4.0/" target="_blank">CC BY-NC-SA 4.0</a> è®¸å¯åè®®ã€‚è½¬è½½è¯·æ³¨æ˜æ¥æº <a href="https://huppee.github.io/huppe.github.io" target="_blank">huppe's Blog</a>ï¼</span></div></div><div class="tag_share"><div class="post-meta__tag-list"><a class="post-meta__tags" href="/huppe.github.io/tags/%E8%BD%AF%E4%BB%B6%E5%BC%80%E5%8F%91/">è½¯ä»¶å¼€å‘</a></div><div class="post-share"><div class="social-share" data-image="/huppe.github.io/img/butterfly-icon.png" data-sites="facebook,twitter,wechat,weibo,qq"></div><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/butterfly-extsrc/sharejs/dist/css/share.min.css" media="print" onload="this.media='all'"><script src="https://cdn.jsdelivr.net/npm/butterfly-extsrc/sharejs/dist/js/social-share.min.js" defer></script></div></div><nav class="pagination-post" id="pagination"><a class="pagination-related full-width" href="/huppe.github.io/2025/05/08/Jave%E8%AF%AD%E8%A8%80%E7%AC%94%E8%AE%B0/" title="JAVAè¯­è¨€ç¬”è®°"><div class="cover" style="background: var(--default-bg-color)"></div><div class="info text-right"><div class="info-1"><div class="info-item-1">ä¸‹ä¸€ç¯‡</div><div class="info-item-2">JAVAè¯­è¨€ç¬”è®°</div></div><div class="info-2"><div class="info-item-1">å…¨é¢ Java å­¦ä¹ ç¬”è®°è¿™ä»½ç¬”è®°ä¸ºå·²ç»ç†Ÿæ‚‰ Python çš„è®¡ç®—æœºå­¦ç”Ÿè®¾è®¡ï¼Œæ—¨åœ¨å¸®åŠ©ä½ å…¨é¢æŒæ¡ Java è¯­è¨€åŠå…¶åœ¨è½¯ä»¶å¼€å‘ä¸­çš„åº”ç”¨ã€‚å†…å®¹ä»åŸºç¡€åˆ°è¿›é˜¶ï¼ŒåŒ…å«è¯¦ç»†æ³¨é‡Šçš„ä»£ç ç¤ºä¾‹ï¼Œé€»è¾‘æ¸…æ™°ï¼Œé€‚åˆç³»ç»Ÿå­¦ä¹ å’Œå®è·µã€‚ 1. Java åŸºç¡€è¯­æ³•1.1 åŸºæœ¬ä»‹ç» Java æ˜¯ä¸€ç§é™æ€ç±»å‹ã€é¢å‘å¯¹è±¡çš„ç¼–ç¨‹è¯­è¨€ï¼Œé€šè¿‡ JVMï¼ˆJava è™šæ‹Ÿæœºï¼‰å®ç°è·¨å¹³å°è¿è¡Œã€‚ ç¨‹åºå…¥å£ç‚¹æ˜¯ public static void main(String[] args) æ–¹æ³•ï¼Œå¿…é¡»å®šä¹‰åœ¨ç±»ä¸­ã€‚ ç¤ºä¾‹ä»£ç ï¼š12345678910/** * åŸºç¡€è¯­æ³•ç¤ºä¾‹ï¼šHello World ç¨‹åº */public class HelloWorld &#123;    // ç¨‹åºå…¥å£ç‚¹ï¼ŒJVM ä»è¿™é‡Œå¼€å§‹æ‰§è¡Œ    public static void main(String[] args) &#123;        // æ‰“å°æ¬¢è¿ä¿¡æ¯åˆ°æ§åˆ¶å°        System.out.println(&quot;Welcome to Java!&quot;);    &#125;&#125;  1.2...</div></div></div></a></nav></div><div class="aside-content" id="aside-content"><div class="card-widget card-info text-center"><div class="avatar-img"><img src="/huppe.github.io/img/butterfly-icon.png" onerror="this.onerror=null;this.src='/huppe.github.io/img/friend_404.gif'" alt="avatar"/></div><div class="author-info-name">huppe</div><div class="author-info-description">Welcome to huppe's Blog! Sharing my journey.</div><div class="site-data"><a href="/huppe.github.io/archives/"><div class="headline">æ–‡ç« </div><div class="length-num">7</div></a><a href="/huppe.github.io/tags/"><div class="headline">æ ‡ç­¾</div><div class="length-num">8</div></a><a href="/huppe.github.io/categories/"><div class="headline">åˆ†ç±»</div><div class="length-num">4</div></a></div><a id="card-info-btn" target="_blank" rel="noopener" href="https://github.com/huppee"><i class="fab fa-github"></i><span>Follow Me</span></a></div><div class="card-widget card-announcement"><div class="item-headline"><i class="fas fa-bullhorn fa-shake"></i><span>å…¬å‘Š</span></div><div class="announcement_content">This is my Blog</div></div><div class="sticky_layout"><div class="card-widget" id="card-toc"><div class="item-headline"><i class="fas fa-stream"></i><span>ç›®å½•</span><span class="toc-percentage"></span></div><div class="toc-content"><ol class="toc"><li class="toc-item toc-level-1"><a class="toc-link" href="#MyElderlyApp%EF%BC%9A%E4%B8%80%E6%AC%BE%E9%9D%A2%E5%90%91%E4%B8%AD%E8%80%81%E5%B9%B4%E7%94%A8%E6%88%B7%E7%9A%84%E7%BB%BC%E5%90%88%E6%80%A7-Android-%E5%BA%94%E7%94%A8"><span class="toc-number">1.</span> <span class="toc-text">MyElderlyAppï¼šä¸€æ¬¾é¢å‘ä¸­è€å¹´ç”¨æˆ·çš„ç»¼åˆæ€§ Android åº”ç”¨</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#%E7%9B%AE%E5%BD%95"><span class="toc-number">1.1.</span> <span class="toc-text">ç›®å½•</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E9%A1%B9%E7%9B%AE%E8%83%8C%E6%99%AF%E4%B8%8E%E5%AE%9A%E4%BD%8D"><span class="toc-number">1.2.</span> <span class="toc-text">é¡¹ç›®èƒŒæ™¯ä¸å®šä½</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E6%8A%80%E6%9C%AF%E6%A0%88%E4%B8%8E%E6%9E%B6%E6%9E%84%E6%A6%82%E8%A7%88"><span class="toc-number">1.3.</span> <span class="toc-text">æŠ€æœ¯æ ˆä¸æ¶æ„æ¦‚è§ˆ</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E6%A0%B8%E5%BF%83%E5%8A%9F%E8%83%BD%E6%A8%A1%E5%9D%97%E4%BB%8B%E7%BB%8D"><span class="toc-number">1.4.</span> <span class="toc-text">æ ¸å¿ƒåŠŸèƒ½æ¨¡å—ä»‹ç»</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E7%99%BB%E5%BD%95%E4%B8%8E%E4%B8%BB%E7%95%8C%E9%9D%A2"><span class="toc-number">1.4.1.</span> <span class="toc-text">ç™»å½•ä¸ä¸»ç•Œé¢</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%BF%AB%E6%8D%B7%E5%87%BA%E8%A1%8C-QuickTravelScreen"><span class="toc-number">1.4.2.</span> <span class="toc-text">å¿«æ·å‡ºè¡Œ (QuickTravelScreen)</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%81%A5%E5%BA%B7%E7%AE%A1%E7%90%86-HealthScreen"><span class="toc-number">1.4.3.</span> <span class="toc-text">å¥åº·ç®¡ç† (HealthScreen)</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%96%87%E8%89%BA%E7%A4%BE%E5%8C%BA-ArtCommunityScreen"><span class="toc-number">1.4.4.</span> <span class="toc-text">æ–‡è‰ºç¤¾åŒº (ArtCommunityScreen)</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E4%BA%94%E5%AD%90%E6%A3%8B-GomokuScreen"><span class="toc-number">1.4.5.</span> <span class="toc-text">äº”å­æ£‹ (GomokuScreen)</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E4%B8%AD%E5%9B%BD%E8%B1%A1%E6%A3%8B-ChessScreen"><span class="toc-number">1.4.6.</span> <span class="toc-text">ä¸­å›½è±¡æ£‹ (ChessScreen)</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%9B%B4%E6%A3%8B-GoGameScreen"><span class="toc-number">1.4.7.</span> <span class="toc-text">å›´æ£‹ (GoGameScreen)</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E9%BA%BB%E5%B0%86-MahjongScreen"><span class="toc-number">1.4.8.</span> <span class="toc-text">éº»å°† (MahjongScreen)</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%AE%9E%E7%8E%B0%E5%85%B3%E9%94%AE%E7%82%B9%E8%A7%A3%E6%9E%90"><span class="toc-number">1.5.</span> <span class="toc-text">å®ç°å…³é”®ç‚¹è§£æ</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E9%A1%B9%E7%9B%AE%E6%BA%90%E7%A0%81%EF%BC%88Markdown-%E6%A0%BC%E5%BC%8F%EF%BC%89"><span class="toc-number">1.6.</span> <span class="toc-text">é¡¹ç›®æºç ï¼ˆMarkdown æ ¼å¼ï¼‰</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#LoginScreen-kt"><span class="toc-number">1.6.1.</span> <span class="toc-text">LoginScreen.kt</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#MainActivity-kt"><span class="toc-number">1.6.2.</span> <span class="toc-text">MainActivity.kt</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#QuickTravelScreen-kt"><span class="toc-number">1.6.3.</span> <span class="toc-text">QuickTravelScreen.kt</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#HealthScreen-kt"><span class="toc-number">1.6.4.</span> <span class="toc-text">HealthScreen.kt</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#ArtCommunityScreen-kt"><span class="toc-number">1.6.5.</span> <span class="toc-text">ArtCommunityScreen.kt</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#GomokuScreen-kt"><span class="toc-number">1.6.6.</span> <span class="toc-text">GomokuScreen.kt</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#ChessScreen-kt"><span class="toc-number">1.6.7.</span> <span class="toc-text">ChessScreen.kt</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#GoGameScreen-kt"><span class="toc-number">1.6.8.</span> <span class="toc-text">GoGameScreen.kt</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#MahjongScreen-kt"><span class="toc-number">1.6.9.</span> <span class="toc-text">MahjongScreen.kt</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%8F%AF%E6%94%B9%E8%BF%9B%E4%B8%8E%E6%9C%AA%E6%9D%A5%E5%B1%95%E6%9C%9B"><span class="toc-number">1.7.</span> <span class="toc-text">å¯æ”¹è¿›ä¸æœªæ¥å±•æœ›</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E7%BB%93%E8%AF%AD"><span class="toc-number">1.8.</span> <span class="toc-text">ç»“è¯­</span></a></li></ol></li></ol></div></div><div class="card-widget card-recent-post"><div class="item-headline"><i class="fas fa-history"></i><span>æœ€æ–°æ–‡ç« </span></div><div class="aside-list"><div class="aside-list-item no-cover"><div class="content"><a class="title" href="/huppe.github.io/2025/06/03/%E7%A8%8B%E5%BA%8F%E8%AE%BE%E8%AE%A1%E5%B0%8F%E4%BD%9C%E4%B8%9A/" title="ç¨‹åºè®¾è®¡å°ä½œä¸š">ç¨‹åºè®¾è®¡å°ä½œä¸š</a><time datetime="2025-06-03T10:00:00.000Z" title="å‘è¡¨äº 2025-06-03 18:00:00">2025-06-03</time></div></div><div class="aside-list-item no-cover"><div class="content"><a class="title" href="/huppe.github.io/2025/05/08/Jave%E8%AF%AD%E8%A8%80%E7%AC%94%E8%AE%B0/" title="JAVAè¯­è¨€ç¬”è®°">JAVAè¯­è¨€ç¬”è®°</a><time datetime="2025-05-08T07:00:00.000Z" title="å‘è¡¨äº 2025-05-08 15:00:00">2025-05-08</time></div></div><div class="aside-list-item no-cover"><div class="content"><a class="title" href="/huppe.github.io/2025/04/20/Python%20%E8%AF%AD%E8%A8%80%E7%AC%94%E8%AE%B0/" title="Pythonè¯­è¨€ç¬”è®°">Pythonè¯­è¨€ç¬”è®°</a><time datetime="2025-04-20T04:00:00.000Z" title="å‘è¡¨äº 2025-04-20 12:00:00">2025-04-20</time></div></div><div class="aside-list-item no-cover"><div class="content"><a class="title" href="/huppe.github.io/2025/04/20/ssh%E5%85%8D%E5%AF%86%E7%99%BB%E5%BD%95%E9%85%8D%E7%BD%AE%E7%AC%94%E8%AE%B0/" title="SSH å…å¯†ç™»å½•é…ç½®ç¬”è®°">SSH å…å¯†ç™»å½•é…ç½®ç¬”è®°</a><time datetime="2025-04-20T02:00:00.000Z" title="å‘è¡¨äº 2025-04-20 10:00:00">2025-04-20</time></div></div><div class="aside-list-item no-cover"><div class="content"><a class="title" href="/huppe.github.io/2025/03/01/pikachu%E6%9A%B4%E5%8A%9B%E7%A0%B4%E8%A7%A3writeup/" title="Pikachu é¶åœºæš´åŠ›ç ´è§£">Pikachu é¶åœºæš´åŠ›ç ´è§£</a><time datetime="2025-03-01T15:09:54.000Z" title="å‘è¡¨äº 2025-03-01 23:09:54">2025-03-01</time></div></div></div></div></div></div></main><footer id="footer"><div id="footer-wrap"><div class="copyright">&copy;2024 - 2025 By huppe</div><div class="framework-info"><span>æ¡†æ¶ </span><a target="_blank" rel="noopener" href="https://hexo.io">Hexo</a><span class="footer-separator">|</span><span>ä¸»é¢˜ </span><a target="_blank" rel="noopener" href="https://github.com/jerryc127/hexo-theme-butterfly">Butterfly</a></div><div class="footer_custom_text">Powered by Hexo & Butterfly Theme</div></div><!-- æ·»åŠ  Live2D çœ‹æ¿å¨˜--><div class="waifu"><div class="waifu-tips"></div><canvas id="live2d" width="300" height="300"></canvas><div class="waifu-tool"><span class="fa fa-lg fa-comment"></span><span class="fa fa-lg fa-paper-plane"></span><span class="fa fa-lg fa-user-circle"></span><span class="fa fa-lg fa-street-view"></span><span class="fa fa-lg fa-camera-retro"></span><span class="fa fa-lg fa-times"></span></div></div><!-- å¼•å…¥ Live2D æ‰€éœ€çš„ CSS å’Œ JavaScript--><script src="/huppe.github.io/live2d-widget/live2d.min.js"></script><script src="/huppe.github.io/live2d-widget/waifu-tips.js"></script><script src="/huppe.github.io/live2d-widget/autoload.js"></script><link rel="stylesheet" href="/huppe.github.io/live2d-widget/waifu.css"/></footer></div><div id="rightside"><div id="rightside-config-hide"><button id="readmode" type="button" title="é˜…è¯»æ¨¡å¼"><i class="fas fa-book-open"></i></button><button id="darkmode" type="button" title="æ—¥é—´å’Œå¤œé—´æ¨¡å¼åˆ‡æ¢"><i class="fas fa-adjust"></i></button><button id="hide-aside-btn" type="button" title="å•æ å’ŒåŒæ åˆ‡æ¢"><i class="fas fa-arrows-alt-h"></i></button></div><div id="rightside-config-show"><button id="rightside-config" type="button" title="è®¾ç½®"><i class="fas fa-cog fa-spin"></i></button><button class="close" id="mobile-toc-button" type="button" title="ç›®å½•"><i class="fas fa-list-ul"></i></button><button id="go-up" type="button" title="å›åˆ°é¡¶éƒ¨"><span class="scroll-percent"></span><i class="fas fa-arrow-up"></i></button></div></div><script src="/js/particles.min.js"></script><script>particlesJS.load('particles-js', '/json/particles.json', function() {
  console.log('Particles.js loaded');
});
</script><div><script src="/huppe.github.io/js/utils.js"></script><script src="/huppe.github.io/js/main.js"></script><div class="js-pjax"></div><script async data-pjax src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script><!-- æ–°å¢ï¼šåŠ¨æ€èƒŒæ™¯è„šæœ¬--><script src="/js/particles.min.js"></script><script>particlesJS.load('particles-js', '/json/particles.json', function() {
  console.log('Particles.js loaded');
})</script></div></body></html>